{"version":3,"names":["clickHandler","e","onNavigate","preventDefault","PreviousButton","currentPage","pageCount","text","h","href","onClick","class","undefined","NextButton","ChevronLeft","xmlns","viewBox","fill","d","ChevronRight","PagerButtons","buttons","maxPageButtons","fromPage","Math","max","toPage","min","i","isCurrent","isFirst","isLast","leftRoundedClass","rightRoundedClass","push","ElsaPager","this","navigate","page","paginated","emit","pageSize","totalCount","async","strings","getLocaleComponentStrings","element","render","from","to","round","previous","next","of","results"],"sources":["./src/components/shared/pager/controls.tsx","./src/components/shared/pager/pager.tsx"],"sourcesContent":["import {FunctionalComponent, h} from \"@stencil/core\";\n\nexport interface PagerProps {\n  currentPage: number;\n  pageCount: number;\n  onNavigate: (page: number) => void;\n  text: string;\n}\n\nconst clickHandler = (e: MouseEvent, onNavigate: () => void) => {\n  e.preventDefault();\n  onNavigate();\n};\n\nexport const PreviousButton: FunctionalComponent<PagerProps> = ({currentPage, pageCount, onNavigate, text}) => currentPage > 0 ?\n  <a href=\"#\" onClick={e => clickHandler(e, () => onNavigate(currentPage - 1))}\n     class=\"elsa-pager-button previous\">\n    {text}\n  </a> : undefined;\n\nexport const NextButton: FunctionalComponent<PagerProps> = ({currentPage, pageCount, onNavigate, text}) => currentPage < pageCount ?\n  <a href=\"#\"\n     onClick={e => clickHandler(e, () => onNavigate(currentPage + 1))}\n     class=\"elsa-pager-button next\">\n    {text}\n  </a> : undefined;\n\nexport const ChevronLeft: FunctionalComponent<PagerProps> = ({currentPage, pageCount, onNavigate}) => currentPage > 0 ?\n  <a href=\"#\" onClick={e => clickHandler(e, () => onNavigate(currentPage - 1))} class=\"elsa-pager-chevron left\" aria-label=\"Previous\">\n    <svg class=\"tw-h-5 tw-w-5\" x-description=\"Heroicon name: chevron-left\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n      <path fill-rule=\"evenodd\" d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\" clip-rule=\"evenodd\"/>\n    </svg>\n  </a> : undefined;\n\nexport const ChevronRight: FunctionalComponent<PagerProps> = ({currentPage, pageCount, onNavigate}) => currentPage < pageCount - 1 ?\n  <a href=\"#\"\n     onClick={e => clickHandler(e, () => onNavigate(currentPage + 1))}\n     class=\"elsa-pager-chevron right\"\n     aria-label=\"Next\">\n    <svg class=\"tw-h-5 tw-w-5\" x-description=\"Heroicon name: chevron-right\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n      <path fill-rule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clip-rule=\"evenodd\"/>\n    </svg>\n  </a> : undefined;\n\nexport const PagerButtons: FunctionalComponent<PagerProps> = ({currentPage, pageCount, onNavigate}) => {\n  const buttons = [];\n  const maxPageButtons = 10;\n  const fromPage = Math.max(0, currentPage - maxPageButtons / 2);\n  const toPage = Math.min(pageCount, fromPage + maxPageButtons);\n\n  for (let i = fromPage; i < toPage; i++) {\n    const isCurrent = currentPage == i;\n    const isFirst = i == fromPage;\n    const isLast = i == toPage - 1;\n    const leftRoundedClass = isFirst && isCurrent ? 'tw-rounded-l-md' : '';\n    const rightRoundedClass = isLast && isCurrent ? 'tw-rounded-r-md' : '';\n\n    if (isCurrent) {\n      buttons.push(<span\n        class={`-tw-ml-px tw-relative tw-inline-flex tw-items-center tw-px-4 tw-py-2 tw-border tw-border-gray-300 tw-text-sm tw-leading-5 tw-font-medium tw-bg-blue-600 tw-text-white ${leftRoundedClass} ${rightRoundedClass}`}>\n                        {i + 1}\n                    </span>);\n    } else {\n      buttons.push(<a href=\"#\"\n                      onClick={e => clickHandler(e, () => onNavigate(i))}\n                      class={`-tw-ml-px tw-relative tw-inline-flex tw-items-center tw-px-4 tw-py-2 tw-border tw-border-gray-300 tw-bg-white tw-text-sm tw-leading-5 tw-font-medium tw-text-gray-700 hover:tw-text-gray-500 focus:tw-z-10 focus:tw-outline-none active:tw-bg-gray-100 active:tw-text-gray-700 tw-transition tw-ease-in-out tw-duration-150 ${leftRoundedClass}`}>\n        {i + 1}\n      </a>)\n    }\n  }\n\n  return buttons;\n}\n","import { Component, Element, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { ChevronLeft, ChevronRight, NextButton, PagerButtons, PreviousButton } from './controls';\nimport { getLocaleComponentStrings } from '../../../utils/locale';\n\nexport interface PagerData {\n  page: number;\n  pageSize: number;\n  totalCount: number;\n}\n\n@Component({\n  tag: 'elsa-pager',\n  shadow: false,\n})\nexport class ElsaPager {\n  @Prop() page: number;\n  @Prop() pageSize: number;\n  @Prop() totalCount: number;\n  @Event() paginated: EventEmitter<PagerData>;\n\n  @Element() element: HTMLElement;\n  strings!: any;\n\n  async componentWillLoad() {\n    this.strings = await getLocaleComponentStrings(this.element);\n  }\n\n  public render() {\n    const page = this.page;\n    const pageSize = this.pageSize;\n    const totalCount = this.totalCount;\n    const from = totalCount == 0 ? 0 : page * pageSize + 1;\n    const to = Math.min(from + pageSize - 1, totalCount);\n    const pageCount = Math.round((totalCount - 1) / pageSize + 0.5);\n\n    return (\n      <div class=\"tw-bg-white tw-px-4 tw-py-3 tw-flex tw-items-center tw-justify-between tw-border-t tw-border-gray-200 sm:tw-px-6\">\n        <div class=\"tw-flex-1 tw-flex tw-justify-between\">\n          <PreviousButton currentPage={page} pageCount={pageCount} onNavigate={this.onNavigate} text={this.strings.previous} />\n          <NextButton currentPage={page} pageCount={pageCount} onNavigate={this.onNavigate} text={this.strings.next} />\n        </div>\n        <div class=\"hidden sm:tw-flex-1 sm:tw-flex sm:tw-items-center sm:tw-justify-between\">\n          <div>\n            <p class=\"tw-text-sm tw-leading-5 tw-text-gray-700 tw-space-x-0.5\">\n              <span>{this.strings.from}</span>\n              <span class=\"tw-font-medium\">{from}</span>\n              <span>{this.strings.to}</span>\n              <span class=\"tw-font-medium\">{to}</span>\n              <span>{this.strings.of}</span>\n              <span class=\"tw-font-medium\">{totalCount}</span>\n              <span>{this.strings.results}</span>\n            </p>\n          </div>\n          <div>\n            <nav class=\"tw-relative tw-z-0 tw-inline-flex tw-shadow-sm\">\n              <ChevronLeft currentPage={page} pageCount={pageCount} onNavigate={this.onNavigate} text={this.strings.previous} />\n              <PagerButtons currentPage={page} pageCount={pageCount} onNavigate={this.onNavigate} text={this.strings.previous}/>\n              <ChevronRight currentPage={page} pageCount={pageCount} onNavigate={this.onNavigate} text={this.strings.next}/>\n            </nav>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  private navigate = (page: number) => this.paginated.emit({ page, pageSize: this.pageSize, totalCount: this.totalCount });\n  private onNavigate = (page: number) => this.navigate(page);\n}\n"],"mappings":"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"}