import{r as t,h as s}from"./p-a7a3baa1.js";import{l as e}from"./p-e71312f9.js";import{R as n,m as o}from"./p-691e5295.js";import"./p-219f806a.js";import"./p-b6964c5d.js";import{P as a,T as i}from"./p-843ab3c4.js";import"./p-72dc819a.js";import"./p-144a434e.js";import"./p-ddecd487.js";const l=class{constructor(s){t(this,s);this.supportedSyntaxes=[n.JavaScript,n.Literal];this.updateActivity=()=>{const t=this.inputContext;const s=this.inputContext.activity;const n=t.inputDescriptor;const o=n.name;const a=e.camelCase(o);s[a]=this.cases;this.inputContext.notifyInputChanged()};this.inputContext=undefined;this.cases=[]}onInputContextChanged(t){this.updateCases()}componentWillLoad(){this.updateCases()}updateCases(){const t=this.inputContext;const s=this.inputContext.activity;const n=t.inputDescriptor;const o=n.name;const a=e.camelCase(o);this.cases=s[a]||[]}onAddCaseClick(){const t=`Case ${this.cases.length+1}`;const s={label:t,condition:{type:n.JavaScript,value:""}};this.cases=[...this.cases,s];this.updateActivity()}onDeleteCaseClick(t){this.cases=this.cases.filter((s=>s!=t));this.updateActivity()}onCaseLabelChanged(t,s){s.label=t.currentTarget.value.trim();this.updateActivity()}onCaseExpressionChanged(t,s){s.condition={type:s.condition.type,value:t.detail.value};this.updateActivity()}onCaseSyntaxChanged(t,s){const e=t.currentTarget;const n=e.value;s.condition=Object.assign(Object.assign({},s.condition),{type:n});this.cases=[...this.cases];this.updateActivity()}render(){const t=this.inputContext;const e=t.inputDescriptor;const n=e.displayName;const l=this.cases;const c=this.supportedSyntaxes;return s("div",null,s("div",{class:"tw-p-4"},s("label",null,n)),s("table",{class:"tw-mt-1"},s("thead",null,s("tr",null,s("th",{class:"tw-w-3/12"},"Name"),s("th",{class:"tw-w-8/12"},"Expression"),s("th",{class:"tw-w-1/12"},"Â "))),s("tbody",null,l.map(((t,e)=>{const n=t.condition;const a=n.value;const l=n.type;const r=o(n.type);return s("tr",{key:`case-${e}`},s("td",{class:"tw-py-2 tw-pr-5"},s("input",{type:"text",value:t.label,onChange:s=>this.onCaseLabelChanged(s,t)})),s("td",{class:"tw-py-2 tw-pl-5"},s("div",{class:"tw-mt-1 tw-relative tw-rounded-md tw-shadow-sm tw-h-full"},s("elsa-monaco-editor",{key:`monaco-editor-${e}`,value:a,language:r,singleLineMode:true,editorHeight:"2.75em",padding:"tw-pt-1.5 tw-pl-1 tw-pr-28",onValueChanged:s=>this.onCaseExpressionChanged(s,t)}),s("div",{class:"tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center"},s("select",{onChange:s=>this.onCaseSyntaxChanged(s,t),class:"focus:tw-ring-blue-500 focus:tw-border-blue-500 tw-h-full tw-py-0 tw-pl-2 tw-pr-7 tw-border-transparent tw-bg-transparent tw-text-gray-500 sm:tw-text-sm tw-rounded-md"},c.map((t=>{const e=t==l;return s("option",{selected:e},t)})))))),s("td",null,s("button",{type:"button",onClick:()=>this.onDeleteCaseClick(t),class:"elsa-icon-button"},s(i,null))))})))),s("div",{class:"tw-p-4"},s("button",{type:"button",onClick:()=>this.onAddCaseClick(),class:"elsa-btn"},s(a,null),"Add Case")))}static get watchers(){return{inputContext:["onInputContextChanged"]}}};export{l as elsa_flow_switch_editor};
//# sourceMappingURL=p-ee89a76f.entry.js.map