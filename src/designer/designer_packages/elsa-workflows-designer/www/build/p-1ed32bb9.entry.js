import{r as t,c as e,h as s}from"./p-a7a3baa1.js";import{C as w,z as r,V as a}from"./p-691e5295.js";import"./p-219f806a.js";import"./p-b6964c5d.js";import"./p-144a434e.js";import"./p-72dc819a.js";import"./p-e71312f9.js";import"./p-ddecd487.js";const o=class{constructor(o){t(this,o);this.signedIn=e(this,"signedIn",7);this.onSubmit=async t=>{t.preventDefault();this.showError=false;window.requestAnimationFrame((()=>{}));const e=t.target;const s=new FormData(e);const a=s.get("username");const o=s.get("password");const l=s.get("remember-me")=="true";const n=await this.loginApi.login(a,o);if(!n.isAuthenticated){this.showError=true}this.signedIn.emit();const i=n.accessToken;const d=n.refreshToken;const m=w.get(r);await m.signin(i,d,l)};this.renderError=()=>{if(!this.showError)return;return s("div",{class:"tw-rounded-md tw-bg-red-50 tw-p-4"},s("div",{class:"tw-flex"},s("div",{class:"tw-flex-shrink-0"},s("svg",{class:"tw-h-5 tw-w-5 tw-text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"}))),s("div",{class:"tw-ml-3"},s("h3",{class:"tw-text-sm tw-font-medium tw-text-red-800"},"Invalid credentials"),s("div",{class:"tw-mt-2 tw-text-sm tw-text-red-700"},"The provided credentials were invalid. Please try again."))))};this.showError=undefined;this.loginApi=w.get(a)}render(){return s("div",null,s("div",{class:"tw-flex min-tw-h-full tw-flex-col tw-pt-20 tw-bg-gray-800 tw-h-screen"},s("div",{class:"tw-mt-8 sm:tw-mx-auto sm:tw-w-full sm:tw-max-w-md"},s("div",{class:"tw-bg-white tw-py-8 tw-px-4 tw-shadow sm:tw-rounded-lg sm:tw-px-10"},this.renderError(),s("form",{class:"tw-mt-4 tw-space-y-6",action:"#",method:"POST",onSubmit:this.onSubmit},s("div",null,s("label",{htmlFor:"username",class:"tw-block tw-text-sm tw-font-medium tw-text-gray-700"},"Username"),s("div",{class:"tw-mt-1"},s("input",{id:"username",name:"username",type:"text",autocomplete:"off",required:true,class:"tw-block tw-w-full tw-appearance-none tw-rounded-md tw-border tw-border-gray-300 tw-px-3 tw-py-2 tw-placeholder-gray-400 tw-shadow-sm focus:tw-border-blue-500 focus:tw-outline-none focus:tw-ring-blue-500 sm:tw-text-sm"}))),s("div",null,s("label",{htmlFor:"password",class:"tw-block tw-text-sm tw-font-medium tw-text-gray-700"},"Password"),s("div",{class:"tw-mt-1"},s("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:true,class:"tw-block tw-w-full tw-appearance-none tw-rounded-md tw-border tw-border-gray-300 tw-px-3 tw-py-2 tw-placeholder-gray-400 tw-shadow-sm focus:tw-border-blue-500 focus:tw-outline-none focus:tw-ring-blue-500 sm:tw-text-sm"}))),s("div",{class:"tw-flex tw-items-center tw-justify-between"},s("div",{class:"tw-flex tw-items-center"},s("input",{id:"remember-me",name:"remember-me",type:"checkbox",value:"true",class:"tw-h-4 tw-w-4 tw-rounded tw-border-gray-300 tw-text-blue-600 focus:tw-ring-blue-500"}),s("label",{htmlFor:"remember-me",class:"tw-ml-2 tw-block tw-text-sm tw-text-gray-900"},"Remember me"))),s("div",null,s("button",{type:"submit",class:"tw-flex tw-w-full tw-justify-center tw-rounded-md tw-border tw-border-transparent tw-bg-blue-600 tw-py-2 tw-px-4 tw-text-sm tw-font-medium tw-text-white tw-shadow-sm hover:tw-bg-blue-700 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-blue-500 focus:tw-ring-offset-2"},"Sign in")))))))}};export{o as elsa_login_page};
//# sourceMappingURL=p-1ed32bb9.entry.js.map