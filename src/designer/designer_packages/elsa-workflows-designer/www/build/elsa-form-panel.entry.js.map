{"file":"elsa-form-panel.entry.esm.js","mappings":"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","names":[],"sources":["./src/components/shared/form-panel/form-panel.tsx"],"sourcesContent":["import {Component, Event, EventEmitter, h, Prop} from '@stencil/core';\r\nimport {TabChangedArgs, TabDefinition} from '../../../models';\r\nimport {isNullOrWhitespace} from \"../../../utils\";\r\nimport {PanelActionClickArgs, PanelActionDefinition, PanelActionType} from \"./models\";\r\n\r\n@Component({\r\n  tag: 'elsa-form-panel'\r\n})\r\nexport class FormPanel {\r\n  @Prop() public mainTitle: string;\r\n  @Prop() public subTitle: string;\r\n  @Prop() public isReadonly: boolean;\r\n  @Prop() public orientation: 'Landscape' | 'Portrait' = 'Portrait';\r\n  @Prop() public tabs: Array<TabDefinition> = [];\r\n  @Prop({mutable: true}) public selectedTabIndex?: number;\r\n  @Prop() public actions: Array<PanelActionDefinition> = [];\r\n\r\n  @Event() public submitted: EventEmitter<FormData>;\r\n  @Event() public selectedTabIndexChanged: EventEmitter<TabChangedArgs>;\r\n  @Event() public actionInvoked: EventEmitter<PanelActionClickArgs>;\r\n\r\n  public render() {\r\n    return this.renderPanel();\r\n  }\r\n\r\n  private onTabClick(e: Event, tab: TabDefinition) {\r\n    e.preventDefault();\r\n    const selectedTabIndex = this.selectedTabIndex = this.tabs.findIndex(x => tab == x);\r\n    this.selectedTabIndexChanged.emit({selectedTabIndex: selectedTabIndex});\r\n  }\r\n\r\n  private onSubmit(e: Event) {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target as HTMLFormElement);\r\n    this.submitted.emit(formData);\r\n  }\r\n\r\n  private renderPanel() {\r\n    const tabs = this.tabs.sort((a, b) => a.order < b.order ? -1 : a.order > b.order ? 1 : 0);\r\n    const selectedTabIndex = this.selectedTabIndex;\r\n    const actions = this.actions;\r\n    const mainTitle = this.mainTitle;\r\n    const subTitle = this.subTitle;\r\n    const orientation = this.orientation;\r\n    const readonly = this.isReadonly;\r\n\r\n    return (\r\n      <div class=\"tw-absolute tw-inset-0 tw-overflow-hidden\">\r\n        <form class=\"tw-h-full tw-flex tw-flex-col tw-bg-white tw-shadow-xl\" onSubmit={e => this.onSubmit(e)} method=\"post\">\r\n        \r\n          <div class=\"tw-flex tw-flex-col tw-flex-1\">\r\n\r\n            {orientation == 'Portrait' && (\r\n              <div class=\"tw-px-4 tw-py-6 tw-bg-gray-50\">\r\n\r\n                <div class=\"tw-flex tw-items-start tw-justify-between tw-space-x-3\">\r\n                  <div class=\"tw-space-y-1\">\r\n                    <h2 class=\"tw-text-lg tw-font-medium tw-text-gray-900\">\r\n                      {mainTitle}\r\n                    </h2>\r\n                    {!isNullOrWhitespace(subTitle) ? <h3 class=\"tw-text-sm tw-text-gray-700\">{subTitle}</h3> : undefined}\r\n                  </div>\r\n                </div>\r\n              </div>)}\r\n\r\n            {orientation == 'Landscape' && (\r\n              <div class=\"tw-px-10 tw-py-4 tw-bg-gray-50\">\r\n                <div class=\"tw-flex tw-items-start tw-justify-between tw-space-x-3\">\r\n                  <div class=\"tw-space-y-0\">\r\n                    <h2 class=\"tw-text-base tw-font-medium tw-text-gray-900\">\r\n                      {mainTitle}\r\n                    </h2>\r\n                    {!isNullOrWhitespace(subTitle) ? <h3 class=\"tw-text-xs tw-text-gray-700\">{subTitle}</h3> : undefined}\r\n                  </div>\r\n                </div>\r\n              </div>)}\r\n\r\n            <div class={`tw-border-b tw-border-gray-200 ${orientation == 'Landscape' ? 'tw-pl-10' : 'tw-pl-4'}`}>\r\n              <nav class=\"-tw-mb-px tw-flex tw-justify-start tw-space-x-5\" aria-label=\"Tabs\">\r\n                {tabs.map((tab, tabIndex) => {\r\n                  const cssClass = tabIndex == selectedTabIndex ? 'tw-border-blue-500 tw-text-blue-600' : 'tw-border-transparent tw-text-gray-500 hover:tw-text-gray-700 hover:tw-border-gray-300';\r\n                  return <a href=\"#\"\r\n                            onClick={e => this.onTabClick(e, tab)}\r\n                            class={`${cssClass} tw-py-4 tw-px-1 tw-text-center tw-border-b-2 tw-font-medium tw-text-sm`}>\r\n                    {tab.displayText}\r\n                  </a>\r\n                })}\r\n              </nav>\r\n            </div>\r\n\r\n            <div class={`tw-flex-1 tw-relative`}>\r\n              <div class={`tw-absolute tw-inset-0 tw-overflow-y-scroll ${orientation == 'Landscape' ? 'tw-px-6' : ''}`}>\r\n               \r\n                {tabs.map((tab, tabIndex) => {\r\n                  const cssClass = tabIndex == selectedTabIndex ? '' : 'hidden';\r\n                  return <div class={cssClass}>\r\n                    <fieldset disabled={readonly}>\r\n                      {tab.content()}\r\n                    </fieldset>\r\n                  </div>\r\n                })}\r\n               \r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {actions.length > 0 ? (\r\n            <div class=\"tw-flex-shrink-0 tw-px-4 tw-border-t tw-border-gray-200 tw-py-5 sm:tw-px-6\">\r\n              <div class=\"tw-space-x-3 tw-flex tw-justify-end\">\r\n                {actions.map(action => {\r\n\r\n                  if (action.display)\r\n                    return action.display(action);\r\n\r\n                  const cssClass = action.isPrimary\r\n                    ? 'tw-text-white tw-bg-blue-600 hover:tw-bg-blue-700 tw-border-transparent focus:tw-ring-blue-500'\r\n                    : action.isDangerous ? 'tw-text-white tw-bg-red-600 hover:tw-bg-red-700 tw-border-transparent focus:tw-ring-red-500'\r\n                      : 'tw-bg-white tw-border-gray-300 tw-text-gray-700 hover:tw-bg-gray-50 focus:tw-ring-blue-500';\r\n\r\n                  const buttonType = action.type == PanelActionType.Submit ? 'submit' : 'button';\r\n\r\n                  const cancelHandler = () => {\r\n                  };\r\n\r\n                  const defaultHandler = (e: any, action: PanelActionDefinition) => this.actionInvoked.emit({e, action: action});\r\n                  const clickHandler = !!action.onClick ? action.onClick : action.type == PanelActionType.Cancel ? cancelHandler : defaultHandler;\r\n\r\n                  return <button type={buttonType}\r\n                                 onClick={e => clickHandler(e, action)}\r\n                                 class={`${cssClass} tw-py-2 tw-px-4 tw-border tw-rounded-md tw-shadow-sm tw-text-sm tw-font-medium focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-offset-2`}>\r\n                    {action.text}\r\n                  </button>\r\n                })}\r\n              </div>\r\n              </div>) : undefined}\r\n        \r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"version":3}