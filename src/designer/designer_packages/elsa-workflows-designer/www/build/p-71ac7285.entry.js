import{r as t,h as s,a as o}from"./p-a7a3baa1.js";import{s as l}from"./p-b6964c5d.js";import{g as e}from"./p-e754efd8.js";import"./p-144a434e.js";const n=class{constructor(s){t(this,s);this.variables=undefined;this.workflowDefinition=undefined;this.workflowInstance=undefined}async componentWillLoad(){this.strings=await e(this.element)}render(){const t=this.variables;const o=l.storageDrivers;return s("div",null,s("div",{class:"tw-align-middle tw-inline-block tw-min-w-full tw-border-b tw-border-gray-200"},s("table",{class:"default-table"},s("thead",null,s("tr",null,s("th",{scope:"col"},this.strings.variablesTabName),s("th",{scope:"col"},this.strings.variablesTabValue),s("th",{scope:"col"},this.strings.variablesTabType),s("th",{scope:"col"},this.strings.variablesTabStorage))),s("tbody",null,t.map((t=>{var e,n;const i=o.find((s=>s.typeName==t.storageDriverTypeName));const r=(e=i===null||i===void 0?void 0:i.displayName)!==null&&e!==void 0?e:"-";const a=l.variableDescriptors.find((s=>s.typeName==t.typeName));const c=(n=a===null||a===void 0?void 0:a.displayName)!==null&&n!==void 0?n:t.typeName;const d=this.getVariableValue(t,i);return s("tr",null,s("td",{class:"tw-whitespace-nowrap"},t.name),s("td",{class:"tw-whitespace-nowrap"},c),s("td",null,r),s("td",{class:"tw-pr-6"},d))}))))))}getVariableValue(t,s){if((s===null||s===void 0?void 0:s.typeName)!=="Elsa.Workflows.Core.Implementations.WorkflowStorageDriver, Elsa.Workflows.Core")return null;const o=this.workflowInstance;const l=o.properties.PersistentVariablesDictionary;const e=`${o.id}:Workflow1:${t.name}`;return l[e]}get element(){return o(this)}};export{n as elsa_variables_viewer};
//# sourceMappingURL=p-71ac7285.entry.js.map