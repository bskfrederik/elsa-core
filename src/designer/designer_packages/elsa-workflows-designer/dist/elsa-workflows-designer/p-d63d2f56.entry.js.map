{"version":3,"names":["inputTagsCss","InputTags","this","addItem","async","item","values","uniq","valueChanged","emit","e","key","preventDefault","input","target","value","trim","length","tag","filter","x","render","Array","isArray","h","class","map","href","onClick","onDeleteTagClick","type","id","fieldId","onKeyDown","onInputKeyDown","onBlur","onInputBlur","placeholder","placeHolder"],"sources":["./src/components/shared/input-tags/input-tags.css?tag=elsa-input-tags","./src/components/shared/input-tags/input-tags.tsx"],"sourcesContent":[".tag-input {\r\n  outline: none !important;\r\n  box-shadow: none !important;\r\n  max-width: max-content !important;\r\n  display: inline-block !important;\r\n}\r\n","import {Component, h, Prop, Event, EventEmitter, State, Watch} from '@stencil/core';\r\nimport {uniq} from 'lodash';\r\n\r\n@Component({\r\n  tag: 'elsa-input-tags',\r\n  styleUrl: 'input-tags.css',\r\n  shadow: false,\r\n})\r\nexport class InputTags {\r\n\r\n  @Prop() fieldId?: string;\r\n  @Prop() placeHolder?: string = 'Add tag';\r\n  @Prop({mutable: true}) values?: Array<string> = [];\r\n  @Event({bubbles: true}) valueChanged: EventEmitter<Array<string>>;\r\n\r\n  private addItem = async (item: string) => {\r\n    const values = uniq([...this.values || [], item]);\r\n    this.values = values;\r\n    await this.valueChanged.emit(values);\r\n  };\r\n\r\n  private async onInputKeyDown(e: KeyboardEvent) {\r\n    if (e.key != \"Enter\")\r\n      return;\r\n\r\n    e.preventDefault();\r\n\r\n    const input = e.target as HTMLInputElement;\r\n    const value = input.value.trim();\r\n\r\n    if (value.length == 0)\r\n      return;\r\n\r\n    await this.addItem(value);\r\n    input.value = '';\r\n  }\r\n\r\n  async onInputBlur(e: Event) {\r\n    const input = e.target as HTMLInputElement;\r\n    const value = input.value.trim();\r\n\r\n    if (value.length == 0)\r\n      return;\r\n\r\n    await this.addItem(value);\r\n    input.value = '';\r\n  }\r\n\r\n  async onDeleteTagClick(e: Event, tag: string) {\r\n    e.preventDefault();\r\n\r\n    this.values = this.values.filter(x => x !== tag);\r\n    await this.valueChanged.emit(this.values);\r\n  }\r\n\r\n  render() {\r\n    let values = this.values || [];\r\n\r\n    if (!Array.isArray(values))\r\n      values = [];\r\n\r\n    return (\r\n      <div class=\"tw-py-2 tw-px-3 tw-bg-white tw-shadow-sm tw-border tw-border-gray-300 tw-rounded-md\">\r\n        {values.map(value => (\r\n          <a href=\"#\" onClick={e => this.onDeleteTagClick(e, value)} class=\"tw-inline-block tw-text-xs tw-bg-blue-400 tw-text-white tw-py-2 tw-px-3 tw-mr-1 tw-mb-1 tw-rounded\">\r\n            <span>{value}</span>\r\n            <span class=\"tw-text-white hover:tw-text-white tw-ml-1\">&times;</span>\r\n          </a>\r\n        ))}\r\n        <input type=\"text\" id={this.fieldId}\r\n               onKeyDown={e => this.onInputKeyDown(e)}\r\n               onBlur={e => this.onInputBlur(e)}\r\n               class=\"tag-input tw-inline-block tw-text-sm tw-outline-none focus:tw-outline-none tw-border-none tw-shadow-none focus:tw-border-none focus:tw-border-transparent focus:tw-shadow-none\"\r\n               placeholder={this.placeHolder}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"mappings":"8GAAA,MAAMA,EAAe,wK,MCQRC,EAAS,M,oEAOZC,KAAAC,QAAUC,MAAOC,IACvB,MAAMC,EAASC,OAAK,IAAIL,KAAKI,QAAU,GAAID,IAC3CH,KAAKI,OAASA,QACRJ,KAAKM,aAAaC,KAAKH,EAAO,E,wCAPP,U,YACiB,E,CASxCF,qBAAqBM,GAC3B,GAAIA,EAAEC,KAAO,QACX,OAEFD,EAAEE,iBAEF,MAAMC,EAAQH,EAAEI,OAChB,MAAMC,EAAQF,EAAME,MAAMC,OAE1B,GAAID,EAAME,QAAU,EAClB,aAEIf,KAAKC,QAAQY,GACnBF,EAAME,MAAQ,E,CAGhBX,kBAAkBM,GAChB,MAAMG,EAAQH,EAAEI,OAChB,MAAMC,EAAQF,EAAME,MAAMC,OAE1B,GAAID,EAAME,QAAU,EAClB,aAEIf,KAAKC,QAAQY,GACnBF,EAAME,MAAQ,E,CAGhBX,uBAAuBM,EAAUQ,GAC/BR,EAAEE,iBAEFV,KAAKI,OAASJ,KAAKI,OAAOa,QAAOC,GAAKA,IAAMF,UACtChB,KAAKM,aAAaC,KAAKP,KAAKI,O,CAGpCe,SACE,IAAIf,EAASJ,KAAKI,QAAU,GAE5B,IAAKgB,MAAMC,QAAQjB,GACjBA,EAAS,GAEX,OACEkB,EAAA,OAAKC,MAAM,uFACRnB,EAAOoB,KAAIX,GACVS,EAAA,KAAGG,KAAK,IAAIC,QAASlB,GAAKR,KAAK2B,iBAAiBnB,EAAGK,GAAQU,MAAM,sGAC/DD,EAAA,YAAOT,GACPS,EAAA,QAAMC,MAAM,6CAA2C,QAG3DD,EAAA,SAAOM,KAAK,OAAOC,GAAI7B,KAAK8B,QACrBC,UAAWvB,GAAKR,KAAKgC,eAAexB,GACpCyB,OAAQzB,GAAKR,KAAKkC,YAAY1B,GAC9Be,MAAM,iLACNY,YAAanC,KAAKoC,c"}