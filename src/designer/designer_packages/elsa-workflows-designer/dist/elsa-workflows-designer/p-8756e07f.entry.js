import{r as t,h as s,c as e,H as i,a as n,d as a}from"./p-a7a3baa1.js";import{e as o,l as r,t as w}from"./p-3ff104be.js";import{a3 as l,a4 as c,a5 as d,v as h,C as u,B as f,$ as m,P as p,S as g,M as v,a6 as x,T as y,z as b,a7 as k,a8 as C,a as z,a9 as j}from"./p-691e5295.js";import{a as M,s as _,N as L}from"./p-ddecd487.js";import{s as B}from"./p-219f806a.js";import"./p-b6964c5d.js";import"./p-144a434e.js";import"./p-72dc819a.js";import"./p-e71312f9.js";const R=class{constructor(s){t(this,s)}render(){return s("div",{class:"tw-bg-gray-800 tw-overflow-hidden tw-h-screen"})}};const H=class{constructor(i){t(this,i);this.shown=e(this,"shown",7);this.hidden=e(this,"hidden",7);this.actionInvoked=e(this,"actionInvoked",7);this.handleDefaultClose=async()=>{await this.hide()};this.modalDialogInstance=undefined;this.actions=[];this.size="tw-max-w-6xl";this.type=l.Default;this.autoHide=true;this.content=()=>s("div",null);this.isVisible=true}async show(t=true){this.showInternal(t)}async hide(t=true){this.hideInternal(t)}showInternal(t){this.isVisible=true;if(!t){this.overlay.style.opacity="1";this.modal.style.opacity="1"}o(this.overlay);o(this.modal).then(this.shown.emit)}hideInternal(t){if(!t){this.isVisible=false}r(this.overlay);r(this.modal).then((()=>{this.isVisible=false;this.hidden.emit()}))}async handleKeyDown(t){if(this.isVisible&&t.key==="Escape"){await this.hide(true)}}componentDidRender(){if(this.isVisible){o(this.overlay);o(this.modal).then(this.shown.emit)}this.modalDialogInstance.modalDialogContentRef=this.element.querySelector(".modal-content").children[0]}render(){const t=this.actions;const e=this.content();return s(i,{class:{hidden:!this.isVisible,"tw-block":true}},s("div",{class:"tw-fixed tw-z-50 tw-inset-0 tw-overflow-y-auto"},s("div",{class:"tw-flex tw-items-end tw-justify-center tw-min-tw-h-screen tw-pt-4 tw-px-4 tw-pb-20 tw-text-center sm:tw-block sm:tw-p-0"},s("div",{ref:t=>this.overlay=t,onClick:()=>this.hide(true),"data-transition-enter":"tw-ease-out tw-duration-300","data-transition-enter-start":"tw-opacity-0","data-transition-enter-end":"tw-opacity-0","data-transition-leave":"tw-ease-in tw-duration-200","data-transition-leave-start":"tw-opacity-0","data-transition-leave-end":"tw-opacity-0",class:"hidden tw-fixed tw-inset-0 tw-transition-opacity","aria-hidden":"true"},s("div",{class:"tw-absolute tw-inset-0 tw-bg-gray-500 tw-opacity-75"})),s("span",{class:"hidden sm:tw-inline-block sm:tw-align-middle sm:tw-h-screen","aria-hidden":"true"}),s("div",{ref:t=>this.modal=t,"data-transition-enter":"tw-ease-out tw-duration-300","data-transition-enter-start":"tw-opacity-0 tw-translate-y-4 sm:tw-translate-y-0 sm:tw-scale-95","data-transition-enter-end":"tw-opacity-0 tw-translate-y-0 sm:tw-scale-100","data-transition-leave":"tw-ease-in tw-duration-200","data-transition-leave-start":"tw-opacity-0 tw-translate-y-0 sm:tw-scale-100","data-transition-leave-end":"tw-opacity-0 tw-translate-y-4 sm:tw-translate-y-0 sm:tw-scale-95",class:`hidden tw-inline-block sm:tw-align-top tw-bg-white tw-rounded-lg tw-text-left tw-overflow-visible tw-shadow-xl tw-transform tw-transition-all sm:tw-my-8 sm:tw-align-top ${this.size}`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},s("div",{class:"modal-content"},e),s("div",{class:"tw-bg-gray-50 tw-px-4 tw-py-3 sm:tw-px-6 sm:tw-flex sm:tw-flex-row-reverse"},t.map((t=>{if(t.display)return t.display(t);const e=t.isPrimary?"tw-text-white tw-bg-blue-600 hover:tw-bg-blue-700 tw-border-transparent focus:tw-ring-blue-500":t.isDangerous?"tw-text-white tw-bg-red-600 hover:tw-bg-red-700 tw-border-transparent focus:tw-ring-red-500":"tw-bg-white tw-border-gray-300 tw-text-gray-700 hover:tw-bg-gray-50 focus:tw-ring-blue-500";const i=t.type==c.Submit?"submit":"button";const n=()=>this.hideInternal(true);const a=t=>this.actionInvoked.emit(t);const o=!!t.onClick?t.onClick:t.type==c.Cancel?n:a;return s("button",{type:i,onClick:s=>{o({e:s,action:t,instance:this.modalDialogInstance});if(this.autoHide)this.hideInternal(true)},class:`${e} tw-mt-3 tw-w-full tw-inline-flex tw-justify-center tw-rounded-md tw-border tw-shadow-sm tw-px-4 tw-py-2 tw-text-base tw-font-medium focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-offset-2 sm:tw-mt-0 sm:tw-ml-3 sm:tw-w-auto sm:tw-text-sm`},t.text)})))))))}get element(){return n(this)}};const S=class{constructor(s){t(this,s);this.onInstanceHidden=t=>{let s=d.instances;s=s.filter((s=>s!=t));d.instances=s}}render(){const t=d.instances;return s(i,null,t.map((t=>{var e,i,n;const a=t.options;const o=(e=a===null||a===void 0?void 0:a.actions)!==null&&e!==void 0?e:[];const r=(i=a===null||a===void 0?void 0:a.modalType)!==null&&i!==void 0?i:l.Default;const w=(n=a===null||a===void 0?void 0:a.size)!==null&&n!==void 0?n:"sm:tw-max-w-6xl";return s("elsa-modal-dialog",{ref:s=>t.modalDialogRef=s,type:r,size:w,modalDialogInstance:t,content:t.content,actions:o,onActionInvoked:s=>{const e=s.detail;t.actionInvoked(e)},onHidden:()=>this.onInstanceHidden(t)})})))}};const D=class{constructor(s){t(this,s);this.notification=undefined;this.time=undefined}connectedCallback(){this.time=this.notification.timestamp.fromNow();this.timer=window.setInterval((()=>{this.time=this.notification.timestamp.fromNow()}),60*1e3)}disconnectedCallback(){window.clearInterval(this.timer)}render(){const{notification:t}=this;const{type:e=M.Success}=t;return s("div",{class:"tw-flex tw-items-start tw-z-30"},s("div",{class:"tw-flex-shrink-0 tw-z-30"},e===M.Success?s("svg",{class:"tw-h-6 tw-w-6 tw-text-green-400 tw-z-30",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})):null,e===M.InProgress?s("svg",{class:"tw-animate-spin tw-h-6 tw-w-6 tw-text-green-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},s("circle",{class:"tw-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"tw-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})):null,e===M.Warning?s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-6 tw-h-6 tw-text-orange-600"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})):null,e===M.Error?s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-6 tw-h-6 tw-text-red-400"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})):null),s("div",{class:"tw-ml-3 tw-w-0 tw-flex-1 tw-pt-0.5 tw-z-30"},s("p",{class:"tw-text-sm tw-font-medium tw-text-gray-900"},t.title),s("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500",innerHTML:h(t.text)}),s("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-700 tw-text-right"},this.time)),s("div",{class:"tw-ml-4 tw-flex tw-flex-shrink-0 tw-z-30"},s("slot",{name:"close-button"})))}};const I=class{constructor(s){t(this,s);this.deleteNotif=t=>{_.notifications=_.notifications.filter((s=>s.id!==t))};this.handleToggle=()=>{I.NotificationServiceLocal.toggleNotification();w(this.modal)};this.modalState=undefined}onModalStateChange(t){w(this.modal)}closeMenu(){r(this.modal)}toggleMenu(){w(this.modal)}render(){const{notifications:t}=_;return s("div",null,s("div",{ref:t=>this.modal=t,"data-transition-enter":"tw-transform tw-transition tw-ease-in-out tw-duration-100 sm:tw-duration-100","data-transition-enter-start":"tw-translate-x-full","data-transition-leave":"tw-transform tw-transition tw-ease-in-out tw-duration-100 sm:tw-duration-100","data-transition-leave-start":"tw-translate-x-0","data-transition-leave-end":"tw-translate-x-full",class:"hidden tw-z-50 tw-top-16 tw-fixed tw-inset-y-0 tw-right-0 tw-flex tw-max-w-full tw-pl-10 sm:tw-pl-16"},s("div",{class:"tw-w-screen tw-max-w-md"},s("div",{class:"tw-flex tw-h-full tw-flex-col tw-overflow-y-scroll tw-bg-white tw-shadow-xl"},s("div",{class:"tw-p-6 tw-border-b"},s("div",{class:"tw-flex tw-items-start tw-justify-between"},s("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-900",id:"slide-over-title"},"Notifications"),s("div",{class:"tw-ml-3 tw-flex tw-h-7 tw-items-center"},s("button",{onClick:()=>this.handleToggle(),type:"button",class:"tw-rounded-md tw-bg-white tw-text-gray-400 hover:tw-text-gray-500 focus:tw-ring-2 focus:tw-ring-blue-500"},s("span",{class:"tw-sr-only"},"Close panel"),s("svg",{class:"tw-h-6 tw-w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})))))),t.length===0&&s("div",{class:"tw-p-6 tw-pointer-events-auto tw-w-full tw-overflow-hidden tw-border-b tw-ring-1 tw-ring-black tw-ring-opacity-5"},"There are no notifications"),s("ul",{role:"list",class:"tw-pointer-events-auto tw-overflow-y-auto tw-flex-1 tw-divide-y tw-divide-gray-200 tw-overflow-y-auto"},t.map((t=>s("li",null,s("div",{class:"tw-border-b tw-group tw-relative tw-flex tw-items-center tw-py-6 tw-px-5"},s("a",{href:"#",class:"-tw-m-1 tw-block tw-flex-1 tw-p-1"},s("elsa-notification-template",{notification:t},s("div",{slot:"close-button",class:"tw-relative tw-ml-2 tw-inline-block tw-flex-shrink-0 tw-text-left"},s("button",{onClick:()=>this.deleteNotif(t.id)},s("svg",{class:"tw-h-6 tw-w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})))))))))))))))}static get watchers(){return{modalState:["onModalStateChange"]}}};I.NotificationServiceLocal=L;const P=".elsa-studio-content{position:absolute;top:64px;left:0;right:0;bottom:0}";const T=class{constructor(s){t(this,s);this.initializing=e(this,"initializing",7);this.serverUrl=undefined;this.monacoLibPath=undefined;this.enableFlexiblePorts=undefined;this.disableAuth=undefined;this.eventBus=u.get(f);this.workflowDefinitionManager=u.get(m);this.pluginRegistry=u.get(p)}handleServerUrl(t){const s=u.get(g);s.baseAddress=t}handleMonacoLibPath(t){const s=u.get(v);s.monacoLibPath=t}async componentWillLoad(){const t=u.get(p);const s={container:u,pluginRegistry:t};this.initializing.emit(s);this.handleMonacoLibPath(this.monacoLibPath);this.handleServerUrl(this.serverUrl);x.enableFlexiblePorts=this.enableFlexiblePorts;await this.eventBus.emit(y.Studio.Initializing,this);await this.pluginRegistry.initialize();const e=u.get(b);if(this.disableAuth||e.getIsSignedIn()){const t=u.get(f);await t.emit(y.Auth.SignedIn)}}render(){return s(i,null,s("elsa-workflow-toolbar",null),s("div",{class:"elsa-studio-content"},k.activeComponentFactory()),k.modalComponents.map((t=>t())),s("elsa-modal-dialog-container",null))}get el(){return n(this)}static get watchers(){return{serverUrl:["handleServerUrl"],monacoLibPath:["handleMonacoLibPath"]}}};T.style=P;const V=class{constructor(s){t(this,s)}render(){const{notifications:t}=_;const e=t.find((t=>t.showToast!==false));if(e){return s("elsa-toast-notification",{notification:e})}else{return null}}};const A=class{constructor(s){t(this,s);this.handleClick=()=>{this.hideToast()};this.hideToast=()=>{L.hideToast(this.notification)};this.notification=undefined;this.showDuration=6e3}componentDidRender(){this.timer=setTimeout((()=>{this.hideToast()}),this.showDuration)}disconnectedCallback(){window.clearTimeout(this.timer);this.hideToast()}render(){const{infoPanelBoolean:t}=_;return this.notification.showToast!==false&&!t?s("div",{class:"tw-mt-2 tw-pr-2 tw-flex tw-w-full tw-flex-col tw-items-center tw-space-y-4 sm:tw-items-end"},s("div",{class:"tw-pointer-events-auto tw-w-full tw-max-w-sm tw-rounded-lg tw-z-50 tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5"},s("div",{class:"tw-p-4 tw-z-30"},s("elsa-notification-template",{notification:this.notification},s("siv",{slot:"close-button"},s("button",{type:"button",onClick:this.handleClick,class:"tw-inline-flex tw-rounded-md tw-bg-white tw-text-gray-400 hover:tw-text-gray-500 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-blue-500 focus:tw-ring-offset-2"},s("span",{class:"tw-sr-only"},"Close"),s("svg",{class:"tw-h-5 tw-w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},s("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})))))))):null}};const U={Add:"notification-added",Update:"notification-updated",Toggle:"notification-toggle"};var W=undefined&&undefined.__decorate||function(t,s,e,i){var n=arguments.length,a=n<3?s:i===null?i=Object.getOwnPropertyDescriptor(s,e):i,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,s,e,i);else for(var r=t.length-1;r>=0;r--)if(o=t[r])a=(n<3?o(a):n>3?o(s,e,a):o(s,e))||a;return n>3&&a&&Object.defineProperty(s,e,a),a};var O=undefined&&undefined.__metadata||function(t,s){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(t,s)};let $=class t{constructor(t){this.getHttpClient=async()=>await this.provider.getHttpClient();this.provider=t}async getVersion(){const t=await this.getHttpClient();const s=await t.get(`package/version`);return s.data}};$=W([C(),O("design:paramtypes",[z])],$);const N=class{constructor(s){t(this,s);this.onNotificationClick=async t=>{t.stopPropagation();await this.eventBus.emit(U.Toggle,this);N.NotificationService.toggleNotification()};this.eventBus=u.get(f);this.packagesApi=u.get($)}async componentWillLoad(){var t=await this.packagesApi.getVersion();return this.currentElsaVersion=t.packageVersion}render(){const t=a("./assets/logo.png");const e=_.infoPanelBoolean;return s("div",null,s("nav",{class:"tw-bg-gray-800"},s("div",{class:"tw-mx-auto tw-px-2 sm:tw-px-6 lg:tw-px-6"},s("div",{class:"tw-flex tw-items-center tw-h-16"},s("div",{class:"tw-flex-shrink-0"},s("div",{class:"tw-flex tw-items-end tw-space-x-1"},s("div",null,s("a",{href:"#"},s("img",{class:"tw-h-6 tw-w-6",src:t,alt:"Workflow"}))),s("div",null,s("span",{class:"tw-text-gray-300 tw-text-sm"},this.currentElsaVersion)))),s("div",{class:"tw-flex-grow"}),s("div",{class:"tw-relative tw-flex tw-items-center tw-justify-end tw-h-16"},s("div",{class:"tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-pr-2 sm:tw-static sm:tw-inset-auto sm:tw-ml-6 sm:tw-pr-0 tw-z-40"},s("div",{class:"tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-pr-2 sm:tw-static sm:tw-inset-auto sm:tw-ml-6 sm:tw-pr-0 tw-z-40"},s("button",{onClick:t=>this.onNotificationClick(t),type:"button",class:"tw-bg-gray-800 tw-p-1 tw-rounded-full tw-text-gray-400 hover:tw-text-white focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-offset-2 focus:tw-ring-offset-gray-800 focus:tw-ring-white tw-mr-4"},s("span",{class:"tw-sr-only"},"View notifications"),s("svg",{class:"tw-h-6 tw-w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"}))),B.components.map((t=>s("div",{class:"tw-flex-shrink-0 tw-mr-4"},t()))),s("elsa-workflow-toolbar-menu",null))))))),s("elsa-notifications-manager",{modalState:e}),s("elsa-toast-manager",null))}static get assetsDirs(){return["assets"]}};N.NotificationService=L;const E=class{constructor(s){t(this,s);this.isMenuOpen=false;this.closeMenu=()=>{r(this.menu);this.isMenuOpen=false};this.toggleMenu=()=>{w(this.menu);this.isMenuOpen=!this.isMenuOpen;if(this.isMenuOpen){L.hideAllNotifications()}};this.onMenuItemClick=async(t,s)=>{t.preventDefault();await s.onClick();this.closeMenu()};this.eventBus=u.get(f)}render(){const t=j.items;return s(i,{class:"tw-block",ref:t=>this.element=t},s("div",{class:"elsa-toolbar-menu-wrapper tw-relative"},s("div",null,s("button",{onClick:()=>this.toggleMenu(),type:"button",class:"tw-bg-gray-800 tw-flex tw-text-sm tw-rounded-full focus:tw-outline-none focus:tw-ring-1 focus:tw-ring-offset-1 focus:tw-ring-gray-600","aria-expanded":"false","aria-haspopup":"true"},s("span",{class:"tw-sr-only"},"Open user menu"),s("svg",{class:"tw-h-8 tw-w-8 tw-text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})))),s("div",{ref:t=>this.menu=t,"data-transition-enter":"tw-transition tw-ease-out tw-duration-100","data-transition-enter-start":"tw-transform tw-opacity-0 tw-scale-95","data-transition-enter-end":"tw-transform tw-opacity-100 tw-scale-100","data-transition-leave":"tw-transition tw-ease-in tw-duration-75","data-transition-leave-start":"tw-transform tw-opacity-100 tw-scale-100","data-transition-leave-end":"tw-transform tw-opacity-0 tw-scale-95",class:"hidden tw-origin-top-right tw-absolute tw-right-0 tw-mt-2 tw-w-48 tw-rounded-md tw-shadow-lg tw-py-1 tw-bg-white tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabindex:"-1"},t.map((t=>s("a",{onClick:s=>this.onMenuItemClick(s,t),href:"#",role:"menuitem",tabindex:"-1"},t.text))))))}onWindowClicked(t){const s=t.target;if(!this.element.contains(s))this.closeMenu()}};export{R as elsa_blank,H as elsa_modal_dialog,S as elsa_modal_dialog_container,D as elsa_notification_template,I as elsa_notifications_manager,T as elsa_studio,V as elsa_toast_manager,A as elsa_toast_notification,N as elsa_workflow_toolbar,E as elsa_workflow_toolbar_menu};
//# sourceMappingURL=p-8756e07f.entry.js.map