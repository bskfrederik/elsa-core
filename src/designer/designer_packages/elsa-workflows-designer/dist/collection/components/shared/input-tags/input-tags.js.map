{"version":3,"file":"input-tags.js","sourceRoot":"","sources":["../../../../src/components/shared/input-tags/input-tags.tsx"],"names":[],"mappings":"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","sourcesContent":["import {Component, h, Prop, Event, EventEmitter, State, Watch} from '@stencil/core';\r\nimport {uniq} from 'lodash';\r\n\r\n@Component({\r\n  tag: 'elsa-input-tags',\r\n  styleUrl: 'input-tags.css',\r\n  shadow: false,\r\n})\r\nexport class InputTags {\r\n\r\n  @Prop() fieldId?: string;\r\n  @Prop() placeHolder?: string = 'Add tag';\r\n  @Prop({mutable: true}) values?: Array<string> = [];\r\n  @Event({bubbles: true}) valueChanged: EventEmitter<Array<string>>;\r\n\r\n  private addItem = async (item: string) => {\r\n    const values = uniq([...this.values || [], item]);\r\n    this.values = values;\r\n    await this.valueChanged.emit(values);\r\n  };\r\n\r\n  private async onInputKeyDown(e: KeyboardEvent) {\r\n    if (e.key != \"Enter\")\r\n      return;\r\n\r\n    e.preventDefault();\r\n\r\n    const input = e.target as HTMLInputElement;\r\n    const value = input.value.trim();\r\n\r\n    if (value.length == 0)\r\n      return;\r\n\r\n    await this.addItem(value);\r\n    input.value = '';\r\n  }\r\n\r\n  async onInputBlur(e: Event) {\r\n    const input = e.target as HTMLInputElement;\r\n    const value = input.value.trim();\r\n\r\n    if (value.length == 0)\r\n      return;\r\n\r\n    await this.addItem(value);\r\n    input.value = '';\r\n  }\r\n\r\n  async onDeleteTagClick(e: Event, tag: string) {\r\n    e.preventDefault();\r\n\r\n    this.values = this.values.filter(x => x !== tag);\r\n    await this.valueChanged.emit(this.values);\r\n  }\r\n\r\n  render() {\r\n    let values = this.values || [];\r\n\r\n    if (!Array.isArray(values))\r\n      values = [];\r\n\r\n    return (\r\n      <div class=\"tw-py-2 tw-px-3 tw-bg-white tw-shadow-sm tw-border tw-border-gray-300 tw-rounded-md\">\r\n        {values.map(value => (\r\n          <a href=\"#\" onClick={e => this.onDeleteTagClick(e, value)} class=\"tw-inline-block tw-text-xs tw-bg-blue-400 tw-text-white tw-py-2 tw-px-3 tw-mr-1 tw-mb-1 tw-rounded\">\r\n            <span>{value}</span>\r\n            <span class=\"tw-text-white hover:tw-text-white tw-ml-1\">&times;</span>\r\n          </a>\r\n        ))}\r\n        <input type=\"text\" id={this.fieldId}\r\n               onKeyDown={e => this.onInputKeyDown(e)}\r\n               onBlur={e => this.onInputBlur(e)}\r\n               class=\"tag-input tw-inline-block tw-text-sm tw-outline-none focus:tw-outline-none tw-border-none tw-shadow-none focus:tw-border-none focus:tw-border-transparent focus:tw-shadow-none\"\r\n               placeholder={this.placeHolder}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}