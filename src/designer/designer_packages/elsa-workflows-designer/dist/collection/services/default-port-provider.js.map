{"version":3,"file":"default-port-provider.js","sourceRoot":"","sources":["../../src/services/default-port-provider.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,kBAAkB,CAAC;AAC1B,OAAO,EAAC,SAAS,EAAC,MAAM,QAAQ,CAAC;AACjC,OAAO,EAAC,OAAO,EAAC,MAAM,QAAQ,CAAA;AAKvB,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;EAC9B,gBAAgB,CAAC,OAA4B;IAC3C,MAAM,EAAC,kBAAkB,EAAC,GAAG,OAAO,CAAC;IACrC,OAAO,CAAC,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC;EACvC,CAAC;EAED,WAAW,CAAC,QAAgB,EAAE,OAA4B;IACxD,MAAM,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC;IACrC,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;IAElC,IAAI,CAAC,QAAQ;MACX,OAAO,IAAI,CAAC;IAEd,OAAO,QAAQ,CAAC,QAAQ,CAA+B,CAAC;EAC1D,CAAC;EAED,UAAU,CAAC,QAAgB,EAAE,QAAkB,EAAE,OAA4B;IAC3E,MAAM,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC;IACrC,MAAM,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;IAEnC,IAAI,CAAC,SAAS;MACZ,OAAO,IAAI,CAAC;IAEd,SAAS,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;EACjC,CAAC;CAEF,CAAA;AA1BY,mBAAmB;EAD/B,OAAO,EAAE;GACG,mBAAmB,CA0B/B;SA1BY,mBAAmB","sourcesContent":["import 'reflect-metadata';\r\nimport {camelCase} from 'lodash';\r\nimport {Service} from \"typedi\"\r\nimport {PortProvider, PortProviderContext} from \"./port-provider\";\r\nimport {Activity, Port} from \"../models\";\r\n\r\n@Service()\r\nexport class DefaultPortProvider implements PortProvider {\r\n  getOutboundPorts(context: PortProviderContext): Array<Port> {\r\n    const {activityDescriptor} = context;\r\n    return [...activityDescriptor.ports];\r\n  }\r\n\r\n  resolvePort(portName: string, context: PortProviderContext): Activity | Array<Activity> {\r\n    const propName = camelCase(portName);\r\n    const activity = context.activity;\r\n\r\n    if (!activity)\r\n      return null;\r\n\r\n    return activity[propName] as Activity | Array<Activity>;\r\n  }\r\n\r\n  assignPort(portName: string, activity: Activity, context: PortProviderContext) {\r\n    const propName = camelCase(portName);\r\n    const container = context.activity;\r\n\r\n    if (!container)\r\n      return null;\r\n\r\n    container[propName] = activity;\r\n  }\r\n\r\n}\r\n"]}