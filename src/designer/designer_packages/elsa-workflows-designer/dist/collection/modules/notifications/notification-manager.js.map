{"version":3,"file":"notification-manager.js","sourceRoot":"","sources":["../../../src/modules/notifications/notification-manager.tsx"],"names":[],"mappings":"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","sourcesContent":["import {Component, h, Prop, Watch} from '@stencil/core';\r\nimport {leave, toggle} from 'el-transition'\r\nimport notificationStore from './notification-store';\r\nimport {EventBus} from '../../services';\r\nimport NotificationService from './notification-service';\r\n\r\n@Component({\r\n  tag: 'elsa-notifications-manager',\r\n  shadow: false,\r\n  styleUrl: '',\r\n})\r\nexport class NotificationManager {\r\n  @Prop() public modalState: boolean;\r\n\r\n  @Watch('modalState')\r\n  onModalStateChange(value) {\r\n    toggle(this.modal);\r\n  }\r\n\r\n  private readonly eventBus: EventBus;\r\n\r\n  modal: HTMLElement;\r\n  overlay: HTMLElement;\r\n\r\n  static NotificationServiceLocal = NotificationService;\r\n\r\n  deleteNotif = (id) => {\r\n    notificationStore.notifications = notificationStore.notifications.filter(item => item.id !== id)\r\n  }\r\n\r\n  handleToggle = () => {\r\n    NotificationManager.NotificationServiceLocal.toggleNotification();\r\n    toggle(this.modal);\r\n  };\r\n\r\n  private closeMenu() {\r\n    leave(this.modal);\r\n  }\r\n\r\n  private toggleMenu() {\r\n    toggle(this.modal);\r\n  }\r\n\r\n\r\n  render() {\r\n    const {notifications} = notificationStore;\r\n\r\n    return (\r\n      <div>\r\n        <div\r\n          ref={el => this.modal = el}\r\n          data-transition-enter=\"tw-transform tw-transition tw-ease-in-out tw-duration-100 sm:tw-duration-100\"\r\n          data-transition-enter-start=\"tw-translate-x-full\"\r\n          data-transition-leave=\"tw-transform tw-transition tw-ease-in-out tw-duration-100 sm:tw-duration-100\"\r\n          data-transition-leave-start=\"tw-translate-x-0\"\r\n          data-transition-leave-end=\"tw-translate-x-full\"\r\n          class='hidden tw-z-50 tw-top-16 tw-fixed tw-inset-y-0 tw-right-0 tw-flex tw-max-w-full tw-pl-10 sm:tw-pl-16'>\r\n\r\n          <div class=\"tw-w-screen tw-max-w-md\">\r\n            <div class=\"tw-flex tw-h-full tw-flex-col tw-overflow-y-scroll tw-bg-white tw-shadow-xl\">\r\n              <div class=\"tw-p-6 tw-border-b\">\r\n                <div class=\"tw-flex tw-items-start tw-justify-between\">\r\n                  <h2 class=\"tw-text-lg tw-font-medium tw-text-gray-900\" id=\"slide-over-title\">Notifications</h2>\r\n                  <div class=\"tw-ml-3 tw-flex tw-h-7 tw-items-center\">\r\n                    <button onClick={() => this.handleToggle()}\r\n                            type=\"button\"\r\n                            class=\"tw-rounded-md tw-bg-white tw-text-gray-400 hover:tw-text-gray-500 focus:tw-ring-2 focus:tw-ring-blue-500\">\r\n                      <span class=\"tw-sr-only\">Close panel</span>\r\n                      <svg class=\"tw-h-6 tw-w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\r\n                           stroke-width=\"1.5\" stroke=\"currentColor\" aria-hidden=\"true\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\"/>\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {notifications.length === 0 && <div\r\n                class=\"tw-p-6 tw-pointer-events-auto tw-w-full tw-overflow-hidden tw-border-b tw-ring-1 tw-ring-black tw-ring-opacity-5\">There are no notifications</div>}\r\n              <ul role=\"list\"\r\n                  class=\"tw-pointer-events-auto tw-overflow-y-auto tw-flex-1 tw-divide-y tw-divide-gray-200 tw-overflow-y-auto\">\r\n                {notifications.map(notification => (\r\n                  <li>\r\n                    <div class=\"tw-border-b tw-group tw-relative tw-flex tw-items-center tw-py-6 tw-px-5\">\r\n                      <a href=\"#\" class=\"-tw-m-1 tw-block tw-flex-1 tw-p-1\">\r\n                        <elsa-notification-template notification={notification}>\r\n                          <div slot=\"close-button\" class=\"tw-relative tw-ml-2 tw-inline-block tw-flex-shrink-0 tw-text-left\">\r\n                            <button onClick={() => this.deleteNotif(notification.id)}>\r\n                              <svg class=\"tw-h-6 tw-w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\r\n                                   viewBox=\"0 0 24 24\"\r\n                                   stroke-width=\"1.5\" stroke=\"currentColor\" aria-hidden=\"true\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\"/>\r\n                              </svg>\r\n                            </button>\r\n                          </div>\r\n                        </elsa-notification-template>\r\n                      </a>\r\n                    </div>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n"]}