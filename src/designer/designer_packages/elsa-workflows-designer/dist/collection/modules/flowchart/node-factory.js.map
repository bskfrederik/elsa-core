{"version":3,"file":"node-factory.js","sourceRoot":"","sources":["../../../src/modules/flowchart/node-factory.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,kBAAkB,CAAC;AAG1B,OAAO,EAAC,SAAS,EAAE,OAAO,EAAC,MAAM,QAAQ,CAAC;AAC1C,OAAO,EAAC,mBAAmB,EAAC,MAAM,yBAAyB,CAAC;AAGrD,IAAM,WAAW,GAAjB,MAAM,WAAW;EAGtB;IACE,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;EAC5D,CAAC;EAEM,UAAU,CAAC,kBAAsC,EAAE,QAAkB,EAAE,CAAS,EAAE,CAAS;IAChG,MAAM,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IAChF,OAAO,OAAO,CAAC,kBAAkB,CAAC,EAAC,kBAAkB,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC,CAAC;EAC1E,CAAC;EAEM,WAAW,CAAC,kBAAsC,EAAE,QAAkB;IAC3E,MAAM,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IAChF,OAAO,OAAO,CAAC,WAAW,CAAC,EAAC,kBAAkB,EAAE,QAAQ,EAAC,CAAC,CAAC;EAC7D,CAAC;CACF,CAAA;AAhBY,WAAW;EADvB,OAAO,EAAE;;GACG,WAAW,CAgBvB;SAhBY,WAAW","sourcesContent":["import 'reflect-metadata';\r\nimport {Graph, Node} from '@antv/x6';\r\nimport {Activity, ActivityDescriptor, Port} from '../../models';\r\nimport {Container, Service} from \"typedi\";\r\nimport {NodeHandlerRegistry} from \"./node-handler-registry\";\r\n\r\n@Service()\r\nexport class NodeFactory {\r\n  private readonly handlerRegistry: NodeHandlerRegistry;\r\n\r\n  constructor() {\r\n    this.handlerRegistry = Container.get(NodeHandlerRegistry);\r\n  }\r\n\r\n  public createNode(activityDescriptor: ActivityDescriptor, activity: Activity, x: number, y: number): Node.Metadata {\r\n    const handler = this.handlerRegistry.createHandler(activityDescriptor.typeName);\r\n    return handler.createDesignerNode({activityDescriptor, activity, x, y});\r\n  }\r\n\r\n  public createPorts(activityDescriptor: ActivityDescriptor, activity: Activity): Array<any> {\r\n    const handler = this.handlerRegistry.createHandler(activityDescriptor.typeName);\r\n    return handler.createPorts({activityDescriptor, activity});\r\n  }\r\n}\r\n"]}