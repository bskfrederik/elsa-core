{"version":3,"file":"composite-version-plugin.js","sourceRoot":"","sources":["../../../../src/modules/workflow-definitions/plugins/composite-version-plugin.tsx"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAC,CAAC,EAAC,MAAM,eAAe,CAAC;AAChC,OAAO,EAAC,SAAS,EAAE,OAAO,EAAC,MAAM,QAAQ,CAAC;AAE1C,OAAO,EAAC,QAAQ,EAAC,MAAM,mBAAmB,CAAC;AAC3C,OAAO,EAAC,2BAA2B,EAAC,MAAM,cAAc,CAAC;AAEzD,OAAO,EAAC,sBAAsB,EAAC,MAAM,iBAAiB,CAAC;AAGhD,IAAM,8BAA8B,GAApC,MAAM,8BAA8B;EAIzC;IAUQ,6BAAwB,GAAG,CAAC,OAAmC,EAAE,EAAE;MACzE,IAAI,OAAO,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,UAAU,CAAC,IAAI,4BAA4B;QACzF,OAAO;MAET,MAAM,UAAU,GAAkB;QAChC,KAAK,EAAE,EAAE;QACT,WAAW,EAAE,SAAS;QACtB,OAAO,EAAE,GAAG,EAAE,CAAC,0DAAoD,aAAa,EAAE,OAAO,GAAG;OAC7F,CAAC;MAEF,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAChC,CAAC,CAAA;IApBC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IACxC,IAAI,CAAC,sBAAsB,GAAG,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;IACpE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,2BAA2B,CAAC,UAAU,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;EAC1F,CAAC;EAED,KAAK,CAAC,UAAU;EAEhB,CAAC;CAcF,CAAA;AA1BY,8BAA8B;EAD1C,OAAO,EAAE;;GACG,8BAA8B,CA0B1C;SA1BY,8BAA8B","sourcesContent":["import {h} from '@stencil/core';\r\nimport {Container, Service} from \"typedi\";\r\nimport {Plugin, TabDefinition} from \"../../../models\";\r\nimport {EventBus} from \"../../../services\";\r\nimport {ActivityPropertyPanelEvents} from \"../models/ui\";\r\nimport {RenderActivityPropsContext, WorkflowDefinitionActivity} from \"../components/models\";\r\nimport {WorkflowDefinitionsApi} from \"../services/api\";\r\n\r\n@Service()\r\nexport class CompositeActivityVersionPlugin implements Plugin {\r\n  private readonly eventBus: EventBus\r\n  private readonly workflowDefinitionsApi: WorkflowDefinitionsApi;\r\n\r\n  constructor() {\r\n    this.eventBus = Container.get(EventBus);\r\n    this.workflowDefinitionsApi = Container.get(WorkflowDefinitionsApi);\r\n    this.eventBus.on(ActivityPropertyPanelEvents.Displaying, this.onPropertyPanelRendering);\r\n  }\r\n\r\n  async initialize(): Promise<void> {\r\n\r\n  }\r\n\r\n  private onPropertyPanelRendering = (context: RenderActivityPropsContext) => {\r\n    if (context.activityDescriptor.customProperties['RootType'] != 'WorkflowDefinitionActivity')\r\n      return;\r\n\r\n    const versionTab: TabDefinition = {\r\n      order: 20,\r\n      displayText: 'Version',\r\n      content: () => <elsa-workflow-definition-activity-version-settings renderContext={context}/>\r\n    };\r\n\r\n    context.tabs.push(versionTab);\r\n  }\r\n}\r\n"]}