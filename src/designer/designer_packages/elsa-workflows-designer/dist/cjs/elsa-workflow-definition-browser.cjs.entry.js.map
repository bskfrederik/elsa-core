{"file":"elsa-workflow-definition-browser.entry.cjs.js","mappings":"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","names":["h","debounce","BulkActionsIcon","DropdownButtonOrigin","PageSizeIcon","WorkflowDefinitionsOrderBy","OrderByIcon","DefaultContents","DefaultModalActions","ModalType","Container","WorkflowDefinitionsApi","ModalDialogService","ActivityDescriptorManager","getLocaleComponentStrings","Host","EditIcon","DeleteIcon"],"sources":["./src/components/icons/tooling/publish.tsx","./src/components/icons/tooling/un-publish.tsx","./src/components/icons/tooling/run-workflow.tsx","./src/modules/workflow-definitions/components/search.tsx","./src/modules/workflow-definitions/components/filter.tsx","./src/modules/workflow-definitions/services/utils.ts","./src/modules/workflow-definitions/services/lookup-persistence.ts","./src/modules/workflow-definitions/components/browser.tsx"],"sourcesContent":["import {FunctionalComponent, h} from \"@stencil/core\";\r\n\r\nexport const PublishIcon: FunctionalComponent = () =>\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"tw-h-5 tw-w-5 tw-text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"/>\r\n  </svg>;\r\n","import {FunctionalComponent, h} from \"@stencil/core\";\r\n\r\nexport const UnPublishIcon: FunctionalComponent = () =>\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"tw-h-5 tw-w-5 tw-text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\"/>\r\n  </svg>;\r\n","import { FunctionalComponent, h } from '@stencil/core';\n\nexport const RunWorkflowIcon: FunctionalComponent = () => (\n  <svg\n    class=\"tw-h-5 tw-w-5 tw-text-gray-400\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    stroke-width=\"2\"\n    stroke=\"currentColor\"\n    fill=\"none\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path\n      d=\"M16.6582 9.28638C18.098 10.1862 18.8178 10.6361 19.0647 11.2122C19.2803 11.7152 19.2803 12.2847 19.0647 12.7878C18.8178 13.3638 18.098 13.8137 16.6582 14.7136L9.896 18.94C8.29805 19.9387 7.49907 20.4381 6.83973 20.385C6.26501 20.3388 5.73818 20.0469 5.3944 19.584C5 19.053 5 18.1108 5 16.2264V7.77357C5 5.88919 5 4.94701 5.3944 4.41598C5.73818 3.9531 6.26501 3.66111 6.83973 3.6149C7.49907 3.5619 8.29805 4.06126 9.896 5.05998L16.6582 9.28638Z\"\n      stroke-width=\"2\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\n","import { Element, FunctionalComponent, h } from '@stencil/core';\nimport { debounce } from 'lodash';\n\nexport interface SearchProps {\n  onSearch: (term: string) => void;\n  displayText: string;\n}\n\nexport const Search: FunctionalComponent<SearchProps> = ({ onSearch, displayText }) => {\n  const onSubmit = (e: Event) => {\n    e.preventDefault();\n    const form = e.target as HTMLFormElement;\n    const formData = new FormData(form);\n    const searchTerm: FormDataEntryValue = formData.get('searchTerm').toString();\n\n    onSearch(searchTerm);\n  };\n\n  const onSearchDebounced = debounce(onSearch, 200);\n\n  const onKeyUp = (e: KeyboardEvent) => {\n    const term = (e.target as HTMLInputElement).value;\n    onSearchDebounced(term);\n  };\n\n  return (\n    <div class=\"tw-relative tw-z-10 tw-flex-shrink-0 tw-flex tw-h-16 tw-bg-white tw-border-b tw-border-gray-200\">\n      <div class=\"tw-flex-1 tw-px-4 tw-flex tw-justify-between sm:tw-px-6 lg:tw-px-8\">\n        <div class=\"tw-flex-1 tw-flex\">\n          <form class=\"tw-w-full tw-flex md:tw-ml-0\" onSubmit={onSubmit}>\n            <label htmlFor=\"search_field\" class=\"tw-sr-only\">\n              {displayText}\n            </label>\n            <div class=\"tw-relative tw-w-full tw-text-gray-400 focus-within:tw-text-gray-600\">\n              <div class=\"tw-absolute tw-inset-y-0 tw-left-0 tw-flex tw-items-center tw-pointer-events-none\">\n                <svg class=\"tw-h-5 tw-w-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path\n                    fill-rule=\"evenodd\"\n                    clip-rule=\"evenodd\"\n                    d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\n                  />\n                </svg>\n              </div>\n              <input\n                name=\"searchTerm\"\n                onKeyUp={onKeyUp}\n                class=\"tw-block tw-w-full tw-h-full tw-pl-8 tw-pr-3 tw-py-2 tw-rounded-md tw-text-gray-900 tw-placeholder-cool-gray-500 focus:tw-placeholder-cool-gray-400 sm:tw-text-sm tw-border-0 focus:tw-outline-none focus:tw-ring-0\"\n                placeholder={displayText}\n                type=\"search\"\n              />\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { FunctionalComponent, h } from '@stencil/core';\nimport {DropdownButtonItem, DropdownButtonOrigin} from \"../../../components/shared/dropdown-button/models\";\nimport {BulkActionsIcon, OrderByIcon, PageSizeIcon} from \"../../../components/icons/tooling\";\nimport {WorkflowDefinitionsOrderBy} from \"../services/api\";\n\nexport interface PageSizeFilterProps {\n  selectedPageSize: number;\n  onChange: (pageSize: number) => void;\n  pageSizeText: string;\n}\n\nexport interface OrderByFilterProps {\n  selectedOrderBy?: WorkflowDefinitionsOrderBy;\n  onChange: (orderBy: WorkflowDefinitionsOrderBy) => void;\n  orderByText: string;\n}\n\nexport interface LabelFilterProps {\n  selectedLabels?: Array<string>;\n  onSelectedLabelsChanged: (e: CustomEvent<Array<string>>) => void;\n  buttonClass?: string;\n  containerClass?: string;\n}\n\nexport interface FilterProps extends BulkActionsProps {\n  pageSizeFilter: PageSizeFilterProps;\n  orderByFilter: OrderByFilterProps;\n  labelFilter: LabelFilterProps;\n}\n\nexport interface BulkActionsProps {\n  onBulkDelete: () => void;\n  onBulkPublish: () => void;\n  onBulkUnpublish: () => void;\n  bulkActionsText: string;\n  bulkDeleteText: string;\n  bulkPublishText: string;\n  bulkUnpublishText: string;\n}\n\nexport const Filter: FunctionalComponent<FilterProps> = ({ pageSizeFilter, orderByFilter, onBulkDelete, onBulkPublish, onBulkUnpublish, labelFilter, bulkActionsText, bulkDeleteText, bulkPublishText, bulkUnpublishText }) => {\n  return (\n    <div class=\"tw-p-8 tw-flex tw-content-end tw-justify-right tw-bg-white tw-space-x-4\">\n      <div class=\"tw-flex-shrink-0\">\n        <BulkActions onBulkDelete={onBulkDelete} onBulkPublish={onBulkPublish} onBulkUnpublish={onBulkUnpublish} bulkActionsText={bulkActionsText} bulkDeleteText={bulkDeleteText} bulkPublishText={bulkPublishText} bulkUnpublishText={bulkUnpublishText} />\n      </div>\n      <div class=\"tw-flex-1\">&nbsp;</div>\n\n      <PageSizeFilter {...pageSizeFilter} />\n\n      <OrderByFilter {...orderByFilter} />\n    </div>\n  );\n};\n\n\n\nconst BulkActions: FunctionalComponent<BulkActionsProps> = ({ onBulkDelete, onBulkPublish, onBulkUnpublish,\n  bulkActionsText, bulkDeleteText, bulkPublishText, bulkUnpublishText }) => {\n  const bulkActions = [\n    {\n      text: bulkDeleteText,\n      name: 'Delete',\n    },\n    {\n      text: bulkPublishText,\n      name: 'Publish',\n    },\n    {\n      text: bulkUnpublishText,\n      name: 'Unpublish',\n    },\n  ];\n\n  const onBulkActionSelected = (e: CustomEvent<DropdownButtonItem>) => {\n    const action = e.detail;\n    switch (action.name) {\n      case 'Delete':\n        onBulkDelete();\n        break;\n      case 'Publish':\n        onBulkPublish();\n        break;\n      case 'Unpublish':\n        onBulkUnpublish();\n        break;\n\n      default:\n        action.handler();\n    }\n  };\n\n  return <elsa-dropdown-button text={bulkActionsText}\n                               items={bulkActions}\n                               theme=\"Secondary\"\n                               icon={<BulkActionsIcon />}\n                               origin={DropdownButtonOrigin.TopLeft}\n                               onItemSelected={onBulkActionSelected} />;\n};\n\nconst PageSizeFilter: FunctionalComponent<PageSizeFilterProps> = ({ selectedPageSize, onChange, pageSizeText }) => {\n  const selectedPageSizeText = `${pageSizeText}: ${selectedPageSize}`;\n  const pageSizes: Array<number> = [5, 10, 15, 20, 30, 50, 100];\n\n  const items: Array<DropdownButtonItem> = pageSizes.map(x => {\n    const text = '' + x;\n    return { text: text, isSelected: x == selectedPageSize, value: x };\n  });\n\n  const onPageSizeChanged = (e: CustomEvent<DropdownButtonItem>) => onChange(parseInt(e.detail.value));\n\n  return <elsa-dropdown-button text={selectedPageSizeText} items={items} theme=\"Secondary\" icon={<PageSizeIcon />} origin={DropdownButtonOrigin.TopRight} onItemSelected={onPageSizeChanged} />;\n};\n\nconst OrderByFilter: FunctionalComponent<OrderByFilterProps> = ({ selectedOrderBy, onChange, orderByText }) => {\n  const selectedOrderByText = !!selectedOrderBy ? `${orderByText}: ${selectedOrderBy}` : orderByText;\n  const orderByValues: Array<WorkflowDefinitionsOrderBy> = [WorkflowDefinitionsOrderBy.Name, WorkflowDefinitionsOrderBy.Created];\n  const items: Array<DropdownButtonItem> = orderByValues.map(x => ({ text: x, value: x, isSelected: x == selectedOrderBy }));\n  const onOrderByChanged = (e: CustomEvent<DropdownButtonItem>) => onChange(e.detail.value);\n\n  return <elsa-dropdown-button text={selectedOrderByText} items={items} theme=\"Secondary\" icon={<OrderByIcon />} origin={DropdownButtonOrigin.TopRight} onItemSelected={onOrderByChanged} />;\n};\n","import {PagedList} from \"../../../models\";\r\nimport {WorkflowDefinitionSummary} from \"../models/entities\";\r\n\r\nexport function updateSelectedWorkflowDefinitions(isChecked: boolean, workflowDefinitions: PagedList<WorkflowDefinitionSummary>, selectedWorkflowDefinitionIds: Array<string>) {\r\n  const currentItems = workflowDefinitions.items.filter(item =>!item.isReadonly).map(x => x.definitionId);\r\n\r\n  return isChecked\r\n    ? selectedWorkflowDefinitionIds.concat(currentItems.filter(item => !selectedWorkflowDefinitionIds.includes(item)))\r\n    : selectedWorkflowDefinitionIds.filter(item => !currentItems.includes(item));\r\n}\r\n","import { ListWorkflowDefinitionsRequest } from \"./api\";\r\n\r\nconst key = 'LS/wfDefinitionBrowser';\r\n\r\nexport function getRequest(): ListWorkflowDefinitionsRequest | undefined {\r\n  var json = localStorage.getItem(key);\r\n\r\n  if (!json) return;\r\n\r\n  return JSON.parse(json);\r\n}\r\nexport function persistRequest(request: ListWorkflowDefinitionsRequest) {\r\n  localStorage.setItem(key, JSON.stringify(request));\r\n}\r\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State, Watch } from '@stencil/core';\nimport { OrderBy, PagedList, VersionOptions } from '../../../models';\nimport { Container } from 'typedi';\nimport { DeleteIcon, EditIcon, PublishIcon, UnPublishIcon } from '../../../components/icons/tooling';\nimport { Search } from './search';\nimport { Filter, FilterProps } from './filter';\nimport { PagerData } from '../../../components/shared/pager/pager';\nimport { updateSelectedWorkflowDefinitions } from '../services/utils';\nimport { WorkflowDefinition, WorkflowDefinitionSummary } from '../models/entities';\nimport { ListWorkflowDefinitionsRequest, WorkflowDefinitionsApi, WorkflowDefinitionsOrderBy } from '../services/api';\nimport { ModalDialogService, DefaultModalActions, DefaultContents, ModalType } from '../../../components/shared/modal-dialog';\nimport { ActivityDescriptorManager } from '../../../services';\nimport { getRequest, persistRequest } from '../services/lookup-persistence';\nimport { StartIcon } from '../../../components/icons/activities/start';\nimport { StartAtIcon } from '../../../components/icons/activities/startat';\nimport { RunTaskIcon } from '../../../components/icons/activities/run-task';\nimport { RunWorkflowIcon } from '../../../components/icons/tooling/run-workflow';\nimport { text } from 'stream/consumers';\nimport { getLocaleComponentStrings } from '../../../utils/locale';\n\n@Component({\n  tag: 'elsa-workflow-definition-browser',\n  shadow: false,\n})\nexport class WorkflowDefinitionBrowser {\n  static readonly DEFAULT_PAGE_SIZE = 15;\n  static readonly MIN_PAGE_SIZE = 5;\n  static readonly MAX_PAGE_SIZE = 100;\n  static readonly START_PAGE = 0;\n\n  private readonly api: WorkflowDefinitionsApi;\n  private selectAllCheckbox: HTMLInputElement;\n  private readonly modalDialogService: ModalDialogService;\n  private readonly activityDescriptorManager: ActivityDescriptorManager;\n\n  constructor() {\n    this.api = Container.get(WorkflowDefinitionsApi);\n    this.modalDialogService = Container.get(ModalDialogService);\n    this.activityDescriptorManager = Container.get(ActivityDescriptorManager);\n  }\n\n  @Prop() customActions: CustomAction[] = [];\n  @Event() workflowDefinitionSelected: EventEmitter<WorkflowDefinitionSummary>;\n  @Event() workflowInstancesSelected: EventEmitter<WorkflowDefinitionSummary>;\n  @Event() workflowInstanceStarted: EventEmitter<WorkflowDefinitionSummary>;\n  @Event() public newWorkflowDefinitionSelected: EventEmitter;\n  @State() private workflowDefinitions: PagedList<WorkflowDefinitionSummary> = { items: [], totalCount: 0 };\n  @State() private publishedWorkflowDefinitions: PagedList<WorkflowDefinitionSummary> = { items: [], totalCount: 0 };\n  @State() private selectedWorkflowDefinitionIds: Array<string> = [];\n  @State() private currentPage: number = 0;\n  @State() private currentPageSize: number = WorkflowDefinitionBrowser.DEFAULT_PAGE_SIZE;\n  @State() private orderBy?: WorkflowDefinitionsOrderBy;\n  @State() private labels?: string[];\n  @State() private selectAllChecked: boolean;\n  @State() private searchTerm?: string;\n\n  @Element() element: HTMLElement;\n  strings!: any;\n\n  async componentWillLoad() {\n    this.strings = await getLocaleComponentStrings(this.element);\n\n    const persistedRequest = getRequest();\n\n    if (persistedRequest) {\n      this.currentPage = persistedRequest.page;\n      this.currentPageSize = persistedRequest.pageSize;\n      this.orderBy = persistedRequest.orderBy;\n    }\n\n    await this.loadWorkflowDefinitions();\n  }\n\n  private onNewDefinitionClick = async () => {\n    this.newWorkflowDefinitionSelected.emit();\n  };\n\n  private onSearch = async (term: string) => {\n    this.searchTerm = term;\n    this.resetPagination();\n    await this.loadWorkflowDefinitions();\n  };\n\n  private async onPublishClick(e: MouseEvent, workflowDefinition: WorkflowDefinitionSummary) {\n    await this.api.publish(workflowDefinition);\n    await this.loadWorkflowDefinitions();\n  }\n\n  private async onUnPublishClick(e: MouseEvent, workflowDefinition: WorkflowDefinitionSummary) {\n    await this.api.retract(workflowDefinition);\n    await this.loadWorkflowDefinitions();\n  }\n\n  private async onWorkflowStartClick(e: MouseEvent, workflowDefinition: WorkflowDefinitionSummary) {\n    await this.api.execute(workflowDefinition.definitionId);\n    await this.loadWorkflowDefinitions();\n  }\n\n  private async onDeleteClick(e: MouseEvent, workflowDefinition: WorkflowDefinitionSummary) {\n    this.modalDialogService.show(() => DefaultContents.Warning('Are you sure you want to delete this workflow definition?'), {\n      actions: [\n        DefaultModalActions.Delete(async () => {\n          await this.api.delete(workflowDefinition);\n          await this.loadWorkflowDefinitions();\n          await this.activityDescriptorManager.refresh();\n        }),\n        DefaultModalActions.Cancel(),\n      ],\n      modalType: ModalType.Confirmation,\n    });\n  }\n\n  private onDeleteManyClick = async () => {\n    if (this.selectedWorkflowDefinitionIds.length == 0) return;\n\n    this.modalDialogService.show(() => DefaultContents.Warning('Are you sure you want to delete selected workflow definitions?'), {\n      actions: [\n        DefaultModalActions.Delete(async () => {\n          await this.api.deleteMany({ definitionIds: this.selectedWorkflowDefinitionIds });\n          await this.loadWorkflowDefinitions();\n          await this.activityDescriptorManager.refresh();\n        }),\n        DefaultModalActions.Cancel(),\n      ],\n      modalType: ModalType.Confirmation,\n    });\n  };\n\n  private onPublishManyClick = async () => {\n    if (this.selectedWorkflowDefinitionIds.length == 0) return;\n\n    this.modalDialogService.show(() => DefaultContents.Warning('Are you sure you want to publish selected workflow definitions?'), {\n      actions: [\n        DefaultModalActions.Publish(async () => {\n          await this.api.publishMany({ definitionIds: this.selectedWorkflowDefinitionIds });\n          await this.loadWorkflowDefinitions();\n        }),\n        DefaultModalActions.Cancel(),\n      ],\n      modalType: ModalType.Confirmation,\n    });\n  };\n\n  private onUnpublishManyClick = async () => {\n    if (this.selectedWorkflowDefinitionIds.length == 0) return;\n\n    this.modalDialogService.show(() => DefaultContents.Warning('Are you sure you want to unpublish selected workflow definitions?'), {\n      actions: [\n        DefaultModalActions.Unpublish(async () => {\n          await this.api.unpublishMany({ definitionIds: this.selectedWorkflowDefinitionIds });\n          await this.loadWorkflowDefinitions();\n        }),\n        DefaultModalActions.Cancel(),\n      ],\n      modalType: ModalType.Confirmation,\n    });\n  };\n\n  private onWorkflowDefinitionClick = async (e: MouseEvent, workflowDefinition: WorkflowDefinitionSummary) => {\n    e.preventDefault();\n    this.workflowDefinitionSelected.emit(workflowDefinition);\n  };\n\n  private onWorkflowInstanceStarted = async (e: MouseEvent, workflowDefinition: WorkflowDefinitionSummary) => {\n    e.preventDefault();\n    await this.onWorkflowStartClick(e, workflowDefinition);\n    this.workflowInstanceStarted.emit(workflowDefinition);\n  };\n\n  private onWorkflowInstancesClick = async (e: MouseEvent, workflowDefinition: WorkflowDefinitionSummary) => {\n    e.preventDefault();\n    this.workflowInstancesSelected.emit(workflowDefinition);\n  };\n\n  private async loadWorkflowDefinitions() {\n    // TODO: Load only json-based workflow definitions for now.\n    // Later, also allow CLR-based workflows to be \"edited\" (publish / unpublish / position activities / set variables, etc.)\n    const materializerName = 'Json';\n\n    const request: ListWorkflowDefinitionsRequest = {\n      searchTerm: this.searchTerm,\n      materializerName,\n      page: this.currentPage,\n      pageSize: this.currentPageSize,\n      versionOptions: { isLatest: true },\n      orderBy: this.orderBy,\n      label: this.labels,\n    };\n    persistRequest(request);\n\n    const latestWorkflowDefinitions = await this.api.list(request);\n    const unpublishedWorkflowDefinitionIds = latestWorkflowDefinitions.items.filter(x => !x.isPublished).map(x => x.definitionId);\n\n    this.publishedWorkflowDefinitions = await this.api.list({\n      materializerName,\n      definitionIds: unpublishedWorkflowDefinitionIds,\n      versionOptions: { isPublished: true },\n    });\n\n    this.workflowDefinitions = latestWorkflowDefinitions;\n  }\n\n  private onPaginated = async (e: CustomEvent<PagerData>) => {\n    this.currentPage = e.detail.page;\n    await this.loadWorkflowDefinitions();\n  };\n\n  private onPageSizeChanged = async (pageSize: number) => {\n    this.currentPageSize = pageSize;\n    this.resetPagination();\n    await this.loadWorkflowDefinitions();\n  };\n\n  private onOrderByChanged = async (orderBy: WorkflowDefinitionsOrderBy) => {\n    this.orderBy = orderBy;\n    await this.loadWorkflowDefinitions();\n  };\n\n  private onLabelChange = async (e: CustomEvent<Array<string>>) => {\n    this.labels = e.detail;\n    await this.loadWorkflowDefinitions();\n  };\n\n  private resetPagination = () => {\n    this.currentPage = 0;\n    this.selectedWorkflowDefinitionIds = [];\n  };\n\n  private getSelectAllState = () => {\n    const { items } = this.workflowDefinitions;\n    const selectedWorkflowInstanceIds = this.selectedWorkflowDefinitionIds;\n    return items.findIndex(item => !selectedWorkflowInstanceIds.includes(item.definitionId)) < 0;\n  };\n\n  private setSelectAllIndeterminateState = () => {\n    if (this.selectAllCheckbox) {\n      const selectedItems = this.workflowDefinitions.items.filter(item => this.selectedWorkflowDefinitionIds.includes(item.definitionId));\n      this.selectAllCheckbox.indeterminate = selectedItems.length != 0 && selectedItems.length != this.workflowDefinitions.items.length;\n    }\n  };\n\n  private onWorkflowDefinitionCheckChange(e: Event, workflowDefinition: WorkflowDefinitionSummary) {\n    const checkBox = e.target as HTMLInputElement;\n    const isChecked = checkBox.checked;\n\n    if (isChecked) this.selectedWorkflowDefinitionIds = [...this.selectedWorkflowDefinitionIds, workflowDefinition.definitionId];\n    else this.selectedWorkflowDefinitionIds = this.selectedWorkflowDefinitionIds.filter(x => x != workflowDefinition.definitionId);\n\n    this.setSelectAllIndeterminateState();\n  }\n\n  private onSelectAllCheckChange(e: Event) {\n    const checkBox = e.target as HTMLInputElement;\n    const isChecked = checkBox.checked;\n    this.selectAllChecked = isChecked;\n    this.selectedWorkflowDefinitionIds = updateSelectedWorkflowDefinitions(isChecked, this.workflowDefinitions, this.selectedWorkflowDefinitionIds);\n  }\n\n  render() {\n    const workflowDefinitions = this.workflowDefinitions;\n    const publishedWorkflowDefinitions = this.publishedWorkflowDefinitions.items;\n    const totalCount = workflowDefinitions.totalCount;\n\n    const filterProps: FilterProps = {\n      pageSizeFilter: {\n        selectedPageSize: this.currentPageSize,\n        onChange: this.onPageSizeChanged,\n        pageSizeText: this.strings.pageSize,\n      },\n      orderByFilter: {\n        selectedOrderBy: this.orderBy,\n        onChange: this.onOrderByChanged,\n        orderByText: this.strings.orderBy,\n      },\n      labelFilter: {\n        selectedLabels: this.labels,\n        onSelectedLabelsChanged: this.onLabelChange,\n        buttonClass: 'tw-text-gray-500 hover:tw-text-gray-300',\n        containerClass: 'tw-mt-1.5',\n      },\n      onBulkDelete: this.onDeleteManyClick,\n      onBulkPublish: this.onPublishManyClick,\n      onBulkUnpublish: this.onUnpublishManyClick,\n      bulkActionsText: this.strings.bulkActions,\n      bulkDeleteText: this.strings.bulkDelete,\n      bulkPublishText: this.strings.bulkPublish,\n      bulkUnpublishText: this.strings.bulkUnpublish,\n    };\n\n    return (\n      <Host class=\"tw-block\">\n        <div class=\"tw-pt-4\">\n          <h2 class=\"tw-text-lg tw-font-medium tw-ml-4 tw-mb-2\">{this.strings.title}</h2>\n\n          <Search onSearch={this.onSearch} displayText={this.strings.search} />\n          <Filter {...filterProps} />\n          <div class=\"tw-align-middle tw-inline-block tw-min-w-full tw-border-b tw-border-gray-200\">\n            <table class=\"default-table\">\n              <thead>\n                <tr>\n                  <th>\n                    <input\n                      type=\"checkbox\"\n                      value=\"true\"\n                      checked={this.getSelectAllState()}\n                      onChange={e => this.onSelectAllCheckChange(e)}\n                      ref={el => (this.selectAllCheckbox = el)}\n                    />\n                  </th>\n                  <th>\n                    <span class=\"lg:tw-pl-2\">{this.strings.name}</span>\n                  </th>\n                  <th>{this.strings.instances}</th>\n                  <th class=\"tw-text-center\">{this.strings.latestVersion}</th>\n                  <th class=\"tw-text-center\">{this.strings.publishedVersion}</th>\n                  <th />\n                </tr>\n              </thead>\n              <tbody>\n                {workflowDefinitions.items.map(workflowDefinition => {\n                  const latestVersionNumber = workflowDefinition.version;\n                  const { isPublished } = workflowDefinition;\n                  const publishedVersion: WorkflowDefinitionSummary = isPublished\n                    ? workflowDefinition\n                    : publishedWorkflowDefinitions.find(x => x.definitionId == workflowDefinition.definitionId);\n                  const publishedVersionNumber = !!publishedVersion ? publishedVersion.version : '-';\n\n                  const isReadonly = workflowDefinition.isReadonly;\n\n                  const isSelected = this.selectedWorkflowDefinitionIds.findIndex(x => x === workflowDefinition.definitionId) >= 0;\n                  let workflowDisplayName = workflowDefinition.name;\n\n                  if (!workflowDisplayName || workflowDisplayName.trim().length == 0) workflowDisplayName = 'Untitled';\n\n                  return (\n                    <tr>\n                      <td>\n                        <input\n                          disabled={isReadonly}\n                          type=\"checkbox\"\n                          value={workflowDefinition.definitionId}\n                          checked={isSelected}\n                          onChange={e => this.onWorkflowDefinitionCheckChange(e, workflowDefinition)}\n                        />\n                      </td>\n                      <td>\n                        <div class=\"tw-flex tw-items-center tw-space-x-3 lg:tw-pl-2\">\n                          <a onClick={e => this.onWorkflowDefinitionClick(e, workflowDefinition)} href=\"#\" class=\"tw-truncate hover:tw-text-gray-600\">\n                            <span>{workflowDisplayName}</span>\n                          </a>\n                        </div>\n                      </td>\n\n                      <td>\n                        <div class=\"tw-flex tw-items-center tw-space-x-3 lg:tw-pl-2\">\n                          <a onClick={e => this.onWorkflowInstancesClick(e, workflowDefinition)} href=\"#\" class=\"tw-truncate hover:tw-text-gray-600\">\n                            Instances\n                          </a>\n                        </div>\n                      </td>\n\n                      <td class=\"tw-text-center\">{latestVersionNumber}</td>\n                      <td class=\"tw-text-center\">{publishedVersionNumber}</td>\n                      <td class=\"tw-pr-6\">\n                        {isReadonly ? (\n                          ''\n                        ) : (\n                          <elsa-context-menu\n                            menuItems={[\n                              { text: 'Start', handler: e => this.onWorkflowInstanceStarted(e, workflowDefinition), icon: <RunWorkflowIcon /> },\n                              { text: this.strings.buttonEdit, handler: e => this.onWorkflowDefinitionClick(e, workflowDefinition), icon: <EditIcon /> },\n                              isPublished\n                                ? { text: 'Unpublish', handler: e => this.onUnPublishClick(e, workflowDefinition), icon: <UnPublishIcon /> }\n                                : {\n                                    text: this.strings.buttonPublish,\n                                    handler: e => this.onPublishClick(e, workflowDefinition),\n                                    icon: <PublishIcon />,\n                                  },\n                              { text: this.strings.buttonDelete, handler: e => this.onDeleteClick(e, workflowDefinition), icon: <DeleteIcon /> },\n                            ].concat(\n                              ...this.customActions.map(x => ({\n                                text: x.text,\n                                handler: e => x.callbackFn(workflowDefinition),\n                                icon: null,\n                              })),\n                            )}\n                          />\n                        )}\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n            <elsa-pager page={this.currentPage} pageSize={this.currentPageSize} totalCount={totalCount} onPaginated={this.onPaginated} />\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n\nexport interface CustomAction {\n  text: string;\n  callbackFn: (wofklowDefinition: WorkflowDefinitionSummary) => Promise<void>;\n}\n"],"version":3}