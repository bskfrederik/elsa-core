{"file":"elsa-workflow-instance-browser.js","mappings":"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","names":["debounce","_"],"sources":["./src/components/icons/tooling/workflow.tsx","./src/components/icons/tooling/workflow-status-icon.tsx","./src/modules/workflow-instances/components/search.tsx","./src/modules/workflow-instances/components/filter.tsx","./src/modules/workflow-instances/services/lookup-persistence.ts","./src/modules/workflow-instances/services/utils.ts","./src/modules/workflow-instances/components/browser.tsx"],"sourcesContent":["import {FunctionalComponent, h} from \"@stencil/core\";\r\n\r\nexport const WorkflowIcon: FunctionalComponent = () =>\r\n  <svg class=\"tw-mr-3 tw-h-5 tw-w-5 tw-text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\"/>\r\n    <rect x=\"4\" y=\"4\" width=\"6\" height=\"6\" rx=\"1\"/>\r\n    <rect x=\"14\" y=\"4\" width=\"6\" height=\"6\" rx=\"1\"/>\r\n    <rect x=\"4\" y=\"14\" width=\"6\" height=\"6\" rx=\"1\"/>\r\n    <rect x=\"14\" y=\"14\" width=\"6\" height=\"6\" rx=\"1\"/>\r\n  </svg>;\r\n","import {FunctionalComponent, h} from \"@stencil/core\";\r\n\r\nexport const WorkflowStatusIcon: FunctionalComponent = () =>\r\n  <svg class=\"tw-mr-3 tw-h-5 tw-w-5 tw-text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n    <polygon points=\"10 8 16 12 10 16 10 8\"/>\r\n  </svg>;\r\n","import {FunctionalComponent, h} from \"@stencil/core\";\nimport {debounce} from 'lodash';\n\nexport interface SearchProps {\n  onSearch: (term: string) => void;\n  searchTextPlaceholder: string;\n}\n\nexport const Search: FunctionalComponent<SearchProps> = ({onSearch, searchTextPlaceholder}) => {\n\n  const onSubmit = (e: Event) => {\n    e.preventDefault();\n    const form = e.target as HTMLFormElement;\n    const formData = new FormData(form);\n    const searchTerm: FormDataEntryValue = formData.get('searchTerm').toString();\n\n    onSearch(searchTerm);\n  }\n\n  const onSearchDebounced = debounce(onSearch, 200);\n\n  const onKeyUp = (e: KeyboardEvent) => {\n    const term = (e.target as HTMLInputElement).value;\n    onSearchDebounced(term);\n  };\n\n  return <div class=\"tw-relative tw-z-10 tw-flex-shrink-0 tw-flex tw-h-16 tw-bg-white tw-border-b tw-border-gray-200\">\n    <div class=\"tw-flex-1 tw-px-4 tw-flex tw-justify-between sm:tw-px-6 lg:tw-px-8\">\n      <div class=\"tw-flex-1 tw-flex\">\n        <form class=\"tw-w-full tw-flex md:tw-ml-0\" onSubmit={onSubmit}>\n          <label htmlFor=\"search_field\" class=\"tw-sr-only\">Search</label>\n          <div class=\"tw-relative tw-w-full tw-text-gray-400 focus-within:tw-text-gray-600\">\n            <div\n              class=\"tw-absolute tw-inset-y-0 tw-left-0 tw-flex tw-items-center tw-pointer-events-none\">\n              <svg class=\"tw-h-5 tw-w-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n                      d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"/>\n              </svg>\n            </div>\n            <input name=\"searchTerm\"\n                   onKeyUp={onKeyUp}\n                   class=\"tw-block tw-w-full tw-h-full tw-pl-8 tw-pr-3 tw-py-2 tw-rounded-md tw-text-gray-900 tw-placeholder-cool-gray-500 focus:tw-placeholder-cool-gray-400 sm:tw-text-sm tw-border-0 focus:tw-outline-none focus:tw-ring-0\"\n                   placeholder={searchTextPlaceholder}\n                   type=\"search\"/>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>;\n}\n","import {FunctionalComponent, h} from \"@stencil/core\";\nimport {WorkflowDefinitionSummary} from \"../../workflow-definitions/models/entities\";\nimport {OrderBy, WorkflowStatus, WorkflowSubStatus} from \"../../../models\";\nimport {DropdownButtonItem, DropdownButtonOrigin} from \"../../../components/shared/dropdown-button/models\";\nimport {BulkActionsIcon, OrderByIcon, PageSizeIcon, WorkflowIcon, WorkflowStatusIcon} from \"../../../components/icons/tooling\";\n\nexport interface FilterProps extends BulkActionsProps {\n  pageSizeFilter: PageSizeFilterProps;\n  workflowFilter: WorkflowFilterProps;\n  statusFilter: StatusFilterProps;\n  subStatusFilter: SubStatusFilterProps;\n  orderByFilter: OrderByFilterProps;\n  resetFilter: () => void;\n  resetText: string;\n\n}\n\nexport interface BulkActionsProps {\n  onBulkDelete: () => void;\n  onBulkCancel: () => void;\n  bulkText: string;\n  bulkDeleteText: string;\n  bulkCancelText: string;\n}\n\nexport interface PageSizeFilterProps {\n  selectedPageSize: number;\n  onChange: (pageSize: number) => void;\n  pageSizeText: string;\n}\n\nexport interface WorkflowFilterProps {\n  workflows: Array<WorkflowDefinitionSummary>;\n  selectedWorkflowDefinitionId?: string;\n  onChange: (definitionId: string) => void;\n  workflowText: string;\n}\n\nexport interface StatusFilterProps {\n  selectedStatus?: WorkflowStatus;\n  onChange: (status: WorkflowStatus) => void;\n}\n\nexport interface SubStatusFilterProps {\n  selectedStatus?: WorkflowSubStatus;\n  onChange: (status: WorkflowSubStatus) => void;\n}\n\nexport interface OrderByFilterProps {\n  selectedOrderBy?: OrderBy;\n  onChange: (orderBy: OrderBy) => void;\n  orderByText: string;\n\n}\n\nexport const Filter: FunctionalComponent<FilterProps> = ({pageSizeFilter, workflowFilter, statusFilter, subStatusFilter, orderByFilter, resetFilter, onBulkDelete, onBulkCancel, bulkText, bulkDeleteText, bulkCancelText, resetText}) => {\n\n  return <div class=\"tw-p-8 tw-flex tw-content-end tw-justify-right tw-bg-white tw-space-x-4\">\n    <div class=\"tw-flex-shrink-0\">\n      <BulkActions onBulkDelete={onBulkDelete} onBulkCancel={onBulkCancel} bulkText={bulkText} bulkDeleteText={bulkDeleteText} bulkCancelText={bulkCancelText} />\n    </div>\n    <div class=\"tw-flex-1\">\n      &nbsp;\n    </div>\n\n    <button onClick={resetFilter} type=\"button\" class=\"tw-text-sm tw-text-blue-600 active:tw-text-blue-700 tw-px-3 active:ring tw-ring-blue-500 tw-rounded\">\n      {resetText}\n    </button>\n\n    <PageSizeFilter {...pageSizeFilter}/>\n    <WorkflowFilter {...workflowFilter}/>\n    <StatusFilter {...statusFilter}/>\n    <SubStatusFilter {...subStatusFilter}/>\n    <OrderByFilter {...orderByFilter} />\n  </div>;\n}\n\nconst BulkActions: FunctionalComponent<BulkActionsProps> = ({ onBulkDelete, onBulkCancel, bulkText, bulkDeleteText, bulkCancelText }) => {\n  const bulkActions = [{\n    text: bulkDeleteText,\n    name: 'Delete',\n  }, {\n    text: bulkCancelText,\n    name: 'Cancel',\n  }];\n\n  const onBulkActionSelected = (e: CustomEvent<DropdownButtonItem>) => {\n    const action = e.detail;\n    switch (action.name) {\n      case 'Delete':\n        onBulkDelete();\n        break;\n      case 'Cancel':\n        onBulkCancel();\n        break;\n\n      default:\n        action.handler();\n    }\n  };\n\n  return <elsa-dropdown-button\n    text={bulkText} items={bulkActions} icon={<BulkActionsIcon/>}\n    origin={DropdownButtonOrigin.TopLeft}\n    theme=\"Secondary\"\n    onItemSelected={onBulkActionSelected}/>\n}\n\nconst PageSizeFilter: FunctionalComponent<PageSizeFilterProps> = ({selectedPageSize, onChange, pageSizeText}) => {\n  const selectedPageSizeText = `${pageSizeText}: ${selectedPageSize}`;\n  const pageSizes: Array<number> = [5, 10, 15, 20, 30, 50, 100];\n\n  const items: Array<DropdownButtonItem> = pageSizes.map(x => {\n    const text = \"\" + x;\n    return {text: text, isSelected: x == selectedPageSize, value: x};\n  });\n\n  const onPageSizeChanged = (e: CustomEvent<DropdownButtonItem>) => onChange(parseInt(e.detail.value));\n\n  return <elsa-dropdown-button\n    text={selectedPageSizeText} items={items} icon={<PageSizeIcon/>}\n    origin={DropdownButtonOrigin.TopRight}\n    theme=\"Secondary\"\n    onItemSelected={onPageSizeChanged}/>\n}\n\nconst WorkflowFilter: FunctionalComponent<WorkflowFilterProps> = ({workflows, selectedWorkflowDefinitionId, onChange, workflowText}) => {\n  const selectedWorkflow = workflows.find(x => x.definitionId == selectedWorkflowDefinitionId);\n  const getWorkflowName = (workflow?: WorkflowDefinitionSummary) => workflow?.name?.length > 0 ? workflow.name : 'Untitled';\n  const selectedWorkflowText = !selectedWorkflowDefinitionId ? workflowText : getWorkflowName(selectedWorkflow);\n  let items: Array<DropdownButtonItem> = workflows.map(x => ({text: getWorkflowName(x), value: x.definitionId, isSelected: x.definitionId == selectedWorkflowDefinitionId}));\n  const allItem: DropdownButtonItem = {text: workflowText, value: null, isSelected: !selectedWorkflowDefinitionId};\n  const onWorkflowChanged = (e: CustomEvent<DropdownButtonItem>) => onChange(e.detail.value);\n\n  items = [allItem, ...items];\n\n  return <elsa-dropdown-button\n    text={selectedWorkflowText} items={items} icon={<WorkflowIcon/>}\n    origin={DropdownButtonOrigin.TopRight}\n    theme=\"Secondary\"\n    onItemSelected={onWorkflowChanged}/>\n}\n\nconst StatusFilter: FunctionalComponent<StatusFilterProps> = ({selectedStatus, onChange}) => {\n  const selectedStatusText = !!selectedStatus ? selectedStatus : 'Status';\n  const statuses: Array<WorkflowStatus> = [null, WorkflowStatus.Running, WorkflowStatus.Finished];\n  const statusOptions: Array<DropdownButtonItem> = statuses.map(x => ({text: x ?? 'All', isSelected: x == selectedStatus, value: x}));\n  const onStatusChanged = (e: CustomEvent<DropdownButtonItem>) => onChange(e.detail.value);\n\n  return <elsa-dropdown-button\n    text={selectedStatusText} items={statusOptions} icon={<WorkflowStatusIcon/>}\n    origin={DropdownButtonOrigin.TopRight}\n    theme=\"Secondary\"\n    onItemSelected={onStatusChanged}/>\n}\n\nconst SubStatusFilter: FunctionalComponent<SubStatusFilterProps> = ({selectedStatus, onChange}) => {\n  const selectedSubStatusText = !!selectedStatus ? selectedStatus : 'Sub status';\n  const subStatuses: Array<WorkflowSubStatus> = [null, WorkflowSubStatus.Executing, WorkflowSubStatus.Suspended, WorkflowSubStatus.Finished, WorkflowSubStatus.Faulted, WorkflowSubStatus.Cancelled];\n  const subStatusOptions: Array<DropdownButtonItem> = subStatuses.map(x => ({text: x ?? 'All', isSelected: x == selectedStatus, value: x}));\n  const onStatusChanged = (e: CustomEvent<DropdownButtonItem>) => onChange(e.detail.value);\n\n  return <elsa-dropdown-button\n    text={selectedSubStatusText} items={subStatusOptions} icon={<WorkflowStatusIcon/>}\n    origin={DropdownButtonOrigin.TopRight}\n    theme=\"Secondary\"\n    onItemSelected={onStatusChanged}/>\n}\n\nconst OrderByFilter: FunctionalComponent<OrderByFilterProps> = ({selectedOrderBy, onChange, orderByText}) => {\n  const selectedOrderByText = !!selectedOrderBy ? `${orderByText}: ${selectedOrderBy}` : orderByText;\n  const orderByValues: Array<OrderBy> = [OrderBy.Finished, OrderBy.Updated, OrderBy.Created];\n  const items: Array<DropdownButtonItem> = orderByValues.map(x => ({text: x, value: x, isSelected: x == selectedOrderBy}));\n  const onOrderByChanged = (e: CustomEvent<DropdownButtonItem>) => onChange(e.detail.value);\n\n  return <elsa-dropdown-button\n    text={selectedOrderByText} items={items} icon={<OrderByIcon/>}\n    theme=\"Secondary\"\n    origin={DropdownButtonOrigin.TopRight}\n    onItemSelected={onOrderByChanged}/>\n}\n","import { ListWorkflowInstancesRequest, WorkflowInstancesApi } from './workflow-instances-api';\r\n\r\nconst key = 'LS/wfInstanceBrowser';\r\n\r\nexport function getRequest(): ListWorkflowInstancesRequest | undefined {\r\n  var json = localStorage.getItem(key);\r\n\r\n  if (!json) return;\r\n\r\n  return JSON.parse(json);\r\n}\r\nexport function persistRequest(request: ListWorkflowInstancesRequest) {\r\n  localStorage.setItem(key, JSON.stringify(request));\r\n}\r\n","import {PagedList, WorkflowInstanceSummary, WorkflowStatus, WorkflowSubStatus} from \"../../../models\";\r\n\r\nconst statusColorMap = {};\r\nconst subStatusColorMap = {};\r\n\r\nstatusColorMap[WorkflowStatus.Running] = 'bg-rose-600';\r\nstatusColorMap[WorkflowStatus.Finished] = 'tw-bg-green-600';\r\n\r\nsubStatusColorMap[WorkflowSubStatus.Executing] = 'bg-rose-600';\r\nsubStatusColorMap[WorkflowSubStatus.Suspended] = 'tw-bg-blue-600';\r\nsubStatusColorMap[WorkflowSubStatus.Finished] = 'tw-bg-green-600';\r\nsubStatusColorMap[WorkflowSubStatus.Faulted] = 'tw-bg-red-600';\r\nsubStatusColorMap[WorkflowSubStatus.Compensating] = 'bg-orange-600';\r\nsubStatusColorMap[WorkflowSubStatus.Cancelled] = 'bg-gray-900';\r\n\r\nexport function getStatusColor(status: WorkflowStatus) {\r\n  return statusColorMap[status] ?? statusColorMap[WorkflowStatus.Running];\r\n}\r\n\r\nexport function getSubStatusColor(status: WorkflowSubStatus) {\r\n  return subStatusColorMap[status] ?? statusColorMap[WorkflowSubStatus.Suspended];\r\n}\r\n\r\nexport function updateSelectedWorkflowInstances(isChecked: boolean, workflowInstances: PagedList<WorkflowInstanceSummary>, selectedWorkflowInstanceIds: Array<string>) {\r\n  const currentItems = workflowInstances.items.map(x => x.id);\r\n\r\n  return isChecked\r\n    ? selectedWorkflowInstanceIds.concat(currentItems.filter(item => !selectedWorkflowInstanceIds.includes(item)))\r\n    : selectedWorkflowInstanceIds.filter(item => !currentItems.includes(item));\r\n\r\n}\r\n","import {Component, Element, Event, EventEmitter, h, Host, Method, Prop, State} from '@stencil/core';\nimport _ from 'lodash';\nimport {Search} from \"./search\";\nimport {Filter, FilterProps} from \"./filter\";\nimport {ListWorkflowInstancesRequest, WorkflowInstancesApi} from \"../services/workflow-instances-api\";\nimport {getRequest, persistRequest} from '../services/lookup-persistence';\nimport {WorkflowDefinition, WorkflowDefinitionSummary} from \"../../workflow-definitions/models/entities\";\nimport {OrderBy, OrderDirection, PagedList, VersionOptions, WorkflowInstanceSummary, WorkflowStatus, WorkflowSubStatus} from \"../../../models\";\nimport {Container} from \"typedi\";\nimport {WorkflowDefinitionsApi} from \"../../workflow-definitions\";\nimport {getSubStatusColor, updateSelectedWorkflowInstances} from \"../services/utils\";\nimport {formatTimestamp} from \"../../../utils\";\nimport {DeleteIcon, EditIcon} from \"../../../components/icons/tooling\";\nimport {PagerData} from \"../../../components/shared/pager/pager\";\nimport {DefaultContents, DefaultModalActions, ModalDialogService, ModalType} from '../../../components/shared/modal-dialog';\nimport { getLocaleComponentStrings } from '../../../utils/locale';\n\n@Component({\n  tag: 'elsa-workflow-instance-browser',\n  shadow: false,\n})\nexport class WorkflowInstanceBrowser {\n  static readonly DEFAULT_PAGE_SIZE = 15;\n  static readonly MIN_PAGE_SIZE = 5;\n  static readonly MAX_PAGE_SIZE = 100;\n  static readonly START_PAGE = 0;\n\n  private readonly workflowInstancesApi: WorkflowInstancesApi;\n  private readonly workflowDefinitionsApi: WorkflowDefinitionsApi;\n  private readonly modalDialogService: ModalDialogService;\n\n  private selectAllCheckbox: HTMLInputElement;\n  private publishedOrLatestWorkflows: Array<WorkflowDefinitionSummary> = [];\n\n\n  constructor() {\n    this.workflowInstancesApi = Container.get(WorkflowInstancesApi);\n    this.workflowDefinitionsApi = Container.get(WorkflowDefinitionsApi);\n    this.modalDialogService = Container.get(ModalDialogService);\n  }\n\n  @Prop() workflowDefinition: WorkflowDefinition;\n  @Event() public workflowInstanceSelected: EventEmitter<WorkflowInstanceSummary>;\n  @State() private workflowInstances: PagedList<WorkflowInstanceSummary> = {items: [], totalCount: 0};\n  @State() private workflows: Array<WorkflowDefinitionSummary> = [];\n  @State() private selectAllChecked: boolean;\n  @State() private selectedWorkflowInstanceIds: Array<string> = [];\n  @State() private searchTerm?: string;\n  @State() private currentPage: number = 0;\n  @State() private currentPageSize: number = WorkflowInstanceBrowser.DEFAULT_PAGE_SIZE;\n  @State() private selectedWorkflowDefinitionId?: string;\n  @State() private selectedStatus?: WorkflowStatus;\n  @State() private selectedSubStatus?: WorkflowSubStatus;\n  @State() private orderBy?: OrderBy;\n\n\n  @Element() element: HTMLElement;\n  strings!: any;\n\n  async componentWillLoad() {\n    this.strings = await getLocaleComponentStrings(this.element);\n    var persistedRequest = getRequest()\n\n    if (persistedRequest) {\n      // TODO: Persist search term, need to bind the value to the input\n      //this.searchTerm = persistedRequest.searchTerm\n      this.currentPage = persistedRequest.page\n      this.currentPageSize = persistedRequest.pageSize\n      this.orderBy = persistedRequest.orderBy\n      this.selectedWorkflowDefinitionId = persistedRequest.definitionId\n      this.selectedStatus = persistedRequest.status\n      this.selectedSubStatus = persistedRequest.subStatus\n    }\n\n    if(this.workflowDefinition != null)\n      this.selectedWorkflowDefinitionId = this.workflowDefinition.definitionId;\n\n    await this.loadWorkflowDefinitions();\n    await this.loadWorkflowInstances();\n  }\n\n  public render() {\n    const publishedOrLatestWorkflows = this.publishedOrLatestWorkflows;\n    const workflowInstances = this.workflowInstances;\n    const totalCount = workflowInstances.totalCount\n\n    const filterProps: FilterProps = {\n      resetText: this.strings.resetText,\n      bulkText: this.strings.bulkText,\n      bulkDeleteText: this.strings.bulkDeleteText,\n      bulkCancelText: this.strings.bulkCancelText,\n      pageSizeFilter: {\n        selectedPageSize: this.currentPageSize,\n        onChange: this.onPageSizeChanged,\n        pageSizeText: this.strings.pageSizes,\n      },\n      orderByFilter: {\n        selectedOrderBy: this.orderBy,\n        onChange: this.onOrderByChanged,\n        orderByText: this.strings.orderBy,\n      },\n      statusFilter: {\n        selectedStatus: this.selectedStatus,\n        onChange: this.onWorkflowStatusChanged\n      },\n      subStatusFilter: {\n        selectedStatus: this.selectedSubStatus,\n        onChange: this.onWorkflowSubStatusChanged\n      },\n      workflowFilter: {\n        workflows: publishedOrLatestWorkflows,\n        selectedWorkflowDefinitionId: this.selectedWorkflowDefinitionId,\n        onChange: this.onWorkflowChanged,\n        workflowText: this.strings.allWorkflows\n      },\n      resetFilter: async () => {\n        this.resetPagination();\n        this.currentPageSize = WorkflowInstanceBrowser.DEFAULT_PAGE_SIZE;\n        this.selectedStatus = undefined\n        this.selectedSubStatus = undefined\n        this.orderBy = undefined\n        this.selectedWorkflowDefinitionId = undefined\n\n        await this.loadWorkflowInstances();\n      },\n      onBulkDelete: this.onDeleteManyClick,\n      onBulkCancel: this.onCancelManyClick\n    };\n\n    return (\n      <Host class=\"tw-block\">\n\n        <div class=\"tw-pt-4\">\n          <h2 class=\"tw-text-lg tw-font-medium tw-ml-4 tw-mb-2\">{this.strings.name}</h2>\n\n          <Search onSearch={this.onSearch} searchTextPlaceholder={this.strings.searchTextPlaceholder}/>\n          <Filter {...filterProps}/>\n\n          <div class=\"tw-align-middle tw-inline-block tw-min-w-full tw-border-b tw-border-gray-200\">\n            <table class=\"default-table\">\n              <thead>\n              <tr>\n                <th>\n                  <input type=\"checkbox\" value=\"true\" checked={this.getSelectAllState()}\n                         onChange={e => this.onSelectAllCheckChange(e)}\n                         ref={el => this.selectAllCheckbox = el}/>\n                </th>\n                <th><span class=\"lg:tw-pl-2\">{this.strings.id}</span></th>\n                <th>{this.strings.correlation}</th>\n                <th>{this.strings.worfklow}</th>\n                <th class=\"tw-align-right\">{this.strings.version}</th>\n                <th>{this.strings.workflowName}</th>\n                <th>{this.strings.status}</th>\n                <th>{this.strings.created}</th>\n                <th>{this.strings.finished}</th>\n                <th/>\n              </tr>\n              </thead>\n              <tbody class=\"tw-bg-white tw-divide-y tw-divide-gray-100\">\n              {workflowInstances.items.map(workflowInstance => {\n                const statusColor = getSubStatusColor(workflowInstance.subStatus);\n                const isSelected = this.selectedWorkflowInstanceIds.findIndex(x => x === workflowInstance.id) >= 0;\n                const workflow: WorkflowDefinitionSummary = publishedOrLatestWorkflows.find(x => x.definitionId == workflowInstance.definitionId);\n                const workflowName = !!workflow ? (workflow.name || 'Untitled') : '(Definition not found)';\n\n                return (\n                  <tr>\n                    <td>\n                      <input type=\"checkbox\" value={workflowInstance.id} checked={isSelected} onChange={e => this.onWorkflowInstanceCheckChange(e, workflowInstance)}/>\n                    </td>\n                    <td>\n                      <div class=\"tw-flex tw-items-center tw-space-x-3 lg:tw-pl-2\">\n                        <a onClick={e => this.onWorkflowInstanceClick(e, workflowInstance)} href=\"#\" class=\"tw-truncate hover:tw-text-gray-600\"><span>{workflowInstance.id}</span></a>\n                      </div>\n                    </td>\n\n                    <td>{workflowInstance.correlationId}</td>\n                    <td>{workflowName}</td>\n                    <td class=\"tw-align-right\">{workflowInstance.version}</td>\n                    <td>{workflowInstance.name}</td>\n                    <td>\n                      <div class=\"tw-flex tw-items-center tw-space-x-3 lg:tw-pl-2\">\n                        <div class={`tw-flex-shrink-0 tw-w-2.5 tw-h-2.5 tw-rounded-full ${statusColor}`}/>\n                        <span>{workflowInstance.status}</span>\n                      </div>\n                    </td>\n                    <td>{formatTimestamp(workflowInstance.createdAt, '-')}</td>\n                    <td>{formatTimestamp(workflowInstance.finishedAt, '-')}</td>\n                    <td class=\"tw-pr-6\">\n                      <elsa-context-menu menuItems={[\n                        {text: 'Edit', handler: e => this.onWorkflowInstanceClick(e, workflowInstance), icon: <EditIcon/>},\n                        {text: 'Delete', handler: e => this.onDeleteClick(e, workflowInstance), icon: <DeleteIcon/>}\n                      ]}/>\n                    </td>\n                  </tr>\n                );\n              })}\n              </tbody>\n            </table>\n            <elsa-pager page={this.currentPage} pageSize={this.currentPageSize} totalCount={totalCount} onPaginated={this.onPaginated}/>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n\n  private onDeleteManyClick = async () => {\n    if(this.selectedWorkflowInstanceIds.length == 0)\n      return;\n\n    this.modalDialogService.show(\n      () => DefaultContents.Warning(\"Are you sure you want to delete selected workflow instances?\"),\n      {\n        actions: [DefaultModalActions.Delete(async () => {\n          await this.workflowInstancesApi.deleteMany({workflowInstanceIds: this.selectedWorkflowInstanceIds});\n          await this.loadWorkflowInstances();\n        }), DefaultModalActions.Cancel()],\n        modalType: ModalType.Confirmation\n      });\n  };\n\n  private onCancelManyClick = async () => {\n    if(this.selectedWorkflowInstanceIds.length == 0)\n      return;\n\n    this.modalDialogService.show(\n      () => DefaultContents.Warning(\"Are you sure you want to cancel selected workflow instances?\"),\n      {\n        actions: [DefaultModalActions.Yes(async () => {\n          await this.workflowInstancesApi.cancelMany({workflowInstanceIds: this.selectedWorkflowInstanceIds});\n          await this.loadWorkflowInstances();\n        }), DefaultModalActions.Cancel()],\n        modalType: ModalType.Confirmation\n      });\n  };\n\n  private resetPagination = () => {\n    this.currentPage = 0;\n    this.selectedWorkflowInstanceIds = [];\n  };\n\n  private async loadWorkflowInstances() {\n\n    const request: ListWorkflowInstancesRequest = {\n      searchTerm: this.searchTerm,\n      definitionId: this.selectedWorkflowDefinitionId,\n      status: this.selectedStatus,\n      subStatus: this.selectedSubStatus,\n      orderBy: this.orderBy,\n      orderDirection: OrderDirection.Descending,\n      page: this.currentPage,\n      pageSize: this.currentPageSize\n    };\n\n    persistRequest(request)\n    this.workflowInstances = await this.workflowInstancesApi.list(request);\n  }\n\n  private loadWorkflowDefinitions = async () => {\n    const versionOptions: VersionOptions = {allVersions: true};\n    const workflows = await this.workflowDefinitionsApi.list({versionOptions});\n    this.publishedOrLatestWorkflows = this.selectLatestWorkflows(workflows.items);\n  };\n\n  private getSelectAllState = () => {\n    const {items} = this.workflowInstances;\n    const selectedWorkflowInstanceIds = this.selectedWorkflowInstanceIds;\n    return items.findIndex(item => !selectedWorkflowInstanceIds.includes(item.id)) < 0;\n  }\n\n  private setSelectAllIndeterminateState = () => {\n    if (this.selectAllCheckbox) {\n      const selectedItems = this.workflowInstances.items.filter(item => this.selectedWorkflowInstanceIds.includes(item.id));\n      this.selectAllCheckbox.indeterminate = selectedItems.length != 0 && selectedItems.length != this.workflowInstances.items.length;\n    }\n  }\n\n  private selectLatestWorkflows = (workflows: Array<WorkflowDefinitionSummary>): Array<WorkflowDefinitionSummary> => {\n    const groups = _.groupBy(workflows, 'definitionId');\n    return _.map(groups, x => _.first(_.orderBy(x, 'version', 'desc')));\n  }\n\n  private onSearch = async (term: string) => {\n    this.searchTerm = term;\n    this.resetPagination();\n    await this.loadWorkflowInstances();\n  };\n\n  private onPageSizeChanged = async (pageSize: number) => {\n    this.currentPageSize = pageSize;\n    this.resetPagination();\n    await this.loadWorkflowInstances();\n  };\n\n  private onWorkflowChanged = async (definitionId: string) => {\n    this.selectedWorkflowDefinitionId = definitionId;\n    this.resetPagination();\n    await this.loadWorkflowInstances();\n  };\n\n  private onWorkflowStatusChanged = async (status: WorkflowStatus) => {\n    this.selectedStatus = status;\n    this.resetPagination();\n    await this.loadWorkflowInstances();\n  };\n\n  private onWorkflowSubStatusChanged = async (status: WorkflowSubStatus) => {\n    this.selectedSubStatus = status;\n    this.resetPagination();\n    await this.loadWorkflowInstances();\n  };\n\n  private onOrderByChanged = async (orderBy: OrderBy) => {\n    this.orderBy = orderBy;\n    await this.loadWorkflowInstances();\n  };\n\n  private async onDeleteClick(e: MouseEvent, workflowInstance: WorkflowInstanceSummary) {\n    // const result = await this.confirmDialog.show(t('DeleteConfirmationModel.Title'), t('DeleteConfirmationModel.Message'));\n    //\n    // if (!result)\n    //   return;\n    //\n\n    await this.workflowInstancesApi.delete(workflowInstance);\n    await this.loadWorkflowInstances();\n  }\n\n  private onWorkflowInstanceClick = async (e: MouseEvent, workflowInstance: WorkflowInstanceSummary) => {\n    e.preventDefault();\n    this.workflowInstanceSelected.emit(workflowInstance);\n  }\n\n  private onSelectAllCheckChange(e: Event) {\n    const checkBox = e.target as HTMLInputElement;\n    const isChecked = checkBox.checked;\n    this.selectAllChecked = isChecked;\n    this.selectedWorkflowInstanceIds = updateSelectedWorkflowInstances(isChecked, this.workflowInstances, this.selectedWorkflowInstanceIds);\n  }\n\n  private onWorkflowInstanceCheckChange(e: Event, workflowInstance: WorkflowInstanceSummary) {\n    const checkBox = e.target as HTMLInputElement;\n    const isChecked = checkBox.checked;\n\n    if (isChecked)\n      this.selectedWorkflowInstanceIds = [...this.selectedWorkflowInstanceIds, workflowInstance.id];\n    else\n      this.selectedWorkflowInstanceIds = this.selectedWorkflowInstanceIds.filter(x => x != workflowInstance.id);\n\n    this.setSelectAllIndeterminateState();\n  }\n\n  onPaginated = async (e: CustomEvent<PagerData>) => {\n    this.currentPage = e.detail.page;\n    await this.loadWorkflowInstances();\n  };\n}\n"],"version":3}